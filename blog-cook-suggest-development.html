<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CookSuggestアプリ開発秘話：1000レシピDBをどう構築したか | MechaTora開発ブログ</title>
    <meta name="description" content="冷蔵庫の余り物から料理レシピを提案するCookSuggest。1000種類以上のレシピデータベースをどのように構築したのか、開発の舞台裏を公開します。データ収集・整形・検索アルゴリズムの実装まで詳しく解説。">
    <meta name="keywords" content="CookSuggest,レシピアプリ開発,データベース設計,JavaScript,料理アプリ,食材検索,プログラミング,Web開発">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://mechatora.com/blog-cook-suggest-development.html">

    <!-- Open Graph -->
    <meta property="og:title" content="CookSuggestアプリ開発秘話：1000レシピDBをどう構築したか">
    <meta property="og:description" content="冷蔵庫の余り物から料理を提案するアプリの開発秘話。データベース構築からアルゴリズム実装まで徹底解説。">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://mechatora.com/blog-cook-suggest-development.html">

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1184134440246706"
         crossorigin="anonymous"></script>

    <!-- GitHub Pages to mechatora.com redirect -->
    <script>
    if (window.location.hostname === 'mechatora.github.io') {
        window.location.replace('https://mechatora.com' + window.location.pathname + window.location.search + window.location.hash);
    }
    </script>

    <style>
        :root {
            --primary-color: #6B4E3D;
            --accent-color: #D4A574;
            --text-color: #2d3748;
            --background: #f7fafc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: var(--text-color);
            background: var(--background);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .article-header {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 60px 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .article-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .article-title {
            font-size: 2.5rem;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .article-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 0.95rem;
            opacity: 0.9;
            flex-wrap: wrap;
        }

        .article-content {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .article-content h2 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin: 40px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--accent-color);
        }

        .article-content h2:first-child {
            margin-top: 0;
        }

        .article-content h3 {
            color: var(--primary-color);
            font-size: 1.4rem;
            margin: 30px 0 15px 0;
        }

        .article-content p {
            margin-bottom: 20px;
            line-height: 1.9;
        }

        .article-content ul, .article-content ol {
            margin: 20px 0 20px 30px;
        }

        .article-content li {
            margin-bottom: 10px;
        }

        .highlight-box {
            background: #FFF9E6;
            border-left: 5px solid var(--primary-color);
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
        }

        .code-block {
            background: #2d3748;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: opacity 0.3s;
        }

        .back-link:hover {
            opacity: 0.9;
        }

        .ad-container {
            margin: 40px 0;
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 30px 0;
        }

        .tag {
            background: var(--accent-color);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .article-title {
                font-size: 1.8rem;
            }

            .article-content {
                padding: 25px;
            }

            .article-content h2 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="blog.html" class="back-link">← ブログ一覧に戻る</a>

        <article>
            <header class="article-header">
                <div class="article-icon">🍳</div>
                <h1 class="article-title">CookSuggestアプリ開発秘話：1000レシピDBをどう構築したか</h1>
                <div class="article-meta">
                    <span>📅 2025年11月1日</span>
                    <span>👤 MechaTora</span>
                    <span>⏱️ 読了時間: 8分</span>
                </div>
            </header>

            <!-- AdSense 記事上広告 -->
            <div class="ad-container">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-1184134440246706"
                     data-ad-slot="1234567890"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>

            <div class="article-content">
                <div class="tags">
                    <span class="tag">アプリ開発</span>
                    <span class="tag">データベース</span>
                    <span class="tag">JavaScript</span>
                    <span class="tag">料理</span>
                </div>

                <h2>はじめに：なぜCookSuggestを作ったのか</h2>

                <p>「冷蔵庫に余った食材で何を作ろう…」誰もが一度は経験する悩みですよね。私自身、仕事帰りに疲れて帰宅して、冷蔵庫を開けて途方に暮れる日々が続いていました。</p>

                <p>市販のレシピアプリは確かに便利ですが、「○○を使ったレシピ」を検索しても、結局は他の食材も必要で、買い物に行かなければならない…。そんな経験から、<strong>「今ある食材だけ」で作れるレシピを提案するアプリ</strong>を作りたいと思い立ちました。</p>

                <p>きっかけは2022年3月のある金曜日の夜でした。冷蔵庫に残っていたのは、賞味期限ギリギリのキャベツ半玉、豚肉200g、そして中途半端に余った玉ねぎ1個。レシピサイトで「キャベツ 豚肉」と検索すると、確かに回鍋肉やホイコーローが出てきますが、どのレシピも「豆板醤」「甜麺醤」など、普段使わない調味料が必要でした。結局コンビニで弁当を買う羽目に。この時「今ある材料『だけ』でマッチングするアプリがあれば」と強く思ったのが開発のきっかけです。</p>

                <div class="highlight-box">
                    <strong>💡 CookSuggestのコンセプト</strong>
                    <ul>
                        <li>冷蔵庫の余り物から料理を提案</li>
                        <li>買い物不要で今すぐ作れるレシピ</li>
                        <li>食材ロス削減にも貢献</li>
                        <li>1000種類以上のレシピデータベース</li>
                    </ul>
                </div>

                <h2>課題1：レシピデータをどう集めるか</h2>

                <p>最初の大きな壁は、<strong>「どうやって1000種類ものレシピデータを集めるか」</strong>でした。手作業で1つずつ入力するのは現実的ではありません。</p>

                <h3>検討した方法</h3>
                <ol>
                    <li><strong>既存APIの利用</strong> - 楽天レシピAPI等を検討したが、無料枠が限られており継続性に不安</li>
                    <li><strong>Webスクレイピング</strong> - 著作権・利用規約の問題で断念</li>
                    <li><strong>ChatGPT APIでレシピ生成</strong> - コストが高く、データの一貫性に課題</li>
                    <li><strong>一般的なレシピ知識をベースに手作業でDB構築</strong> - 時間はかかるが最も確実</li>
                </ol>

                <p>最終的に、<strong>一般的な料理知識をベースに、独自のレシピデータベースを構築</strong>することにしました。著作権フリーの一般的な料理レシピ（肉じゃが、カレー、ハンバーグ等）をベースに、自分の料理経験も加えて1000レシピを手作業で整備しました。</p>

                <p>この作業が想像以上に大変でした。毎晩2時間、約3ヶ月かけてExcelシートに料理名、材料、分量、調理時間を入力し続けました。特に苦労したのが「材料の粒度」の統一です。例えば「豚肉」と「豚バラ肉」は別物として扱うべきか？「醤油」と「濃口醤油」は？最終的に、ユーザーが選びやすいよう「豚肉（バラ・ロース・ひき肉）」のように大分類で統一しました。2022年6月末、ついに1000レシピ分のデータベースが完成したときは、達成感で涙が出そうになりました。</p>

                <!-- AdSense 記事中広告 -->
                <div class="ad-container">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-1184134440246706"
                         data-ad-slot="2345678901"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <h2>課題2：データ構造の設計</h2>

                <p>レシピデータをどのようなJSON構造で保存するかも重要なポイントでした。検索速度とメンテナンス性を考慮した結果、以下の構造に落ち着きました。</p>

                <div class="code-block">
{
  "id": 1,
  "name": "肉じゃが",
  "category": "和食",
  "ingredients": [
    {"name": "じゃがいも", "amount": "3個", "required": true},
    {"name": "豚肉", "amount": "200g", "required": true},
    {"name": "玉ねぎ", "amount": "1個", "required": true},
    {"name": "にんじん", "amount": "1本", "required": false},
    {"name": "しらたき", "amount": "100g", "required": false}
  ],
  "cookingTime": 30,
  "difficulty": "簡単",
  "calories": 350,
  "steps": [
    "じゃがいもと人参を一口大に切る",
    "鍋で肉を炒め、野菜を加える",
    "だし汁と調味料を入れて煮込む"
  ]
}
                </div>

                <p>ポイントは、<strong>材料に「required」フラグを付けた</strong>こと。これにより、「絶対に必要な材料」と「あれば良い材料」を区別し、ユーザーが持っている食材だけでマッチング精度を高めることができました。</p>

                <h2>課題3：検索アルゴリズムの実装</h2>

                <p>「ユーザーが選んだ食材」と「レシピの必要材料」をマッチングさせるアルゴリズムが、このアプリの心臓部です。</p>

                <h3>最初のアプローチ（失敗）</h3>
                <p>当初は単純に「選択された食材がすべて含まれるレシピ」を検索していましたが、これだと<strong>ヒット数が極端に少なくなる</strong>問題が発生しました。</p>

                <h3>改善後のアルゴリズム</h3>
                <p>そこで、<strong>「マッチ度」スコアリング方式</strong>に変更しました。</p>

                <ul>
                    <li>必須材料が全て揃っている: +100点</li>
                    <li>オプション材料が揃っている: +10点/材料</li>
                    <li>余分な材料が少ない: +5点/不要材料</li>
                    <li>調理時間が短い: +1点/分短縮</li>
                </ul>

                <p>このスコアリングにより、「完璧に一致するレシピ」だけでなく、「ほぼ作れるレシピ」も提案できるようになりました。</p>

                <div class="highlight-box">
                    <strong>🎯 スコアリングの効果</strong><br>
                    ユーザー満足度が大幅に向上！「豚肉とキャベツしかない」状況でも、5-10件のレシピを提案できるようになりました。
                </div>

                <!-- AdSense 記事中広告2 -->
                <div class="ad-container">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-1184134440246706"
                         data-ad-slot="3456789012"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <h2>課題4：パフォーマンス最適化</h2>

                <p>1000件のレシピデータを毎回全検索すると、ブラウザが重くなる問題が発生しました。特にスマホでの動作が遅く、ユーザー体験を損なっていました。</p>

                <h3>実施した最適化</h3>
                <ol>
                    <li><strong>カテゴリ別の事前フィルタリング</strong> - 和食・洋食・中華でまず絞り込み</li>
                    <li><strong>インデックス作成</strong> - 食材名をキーにした逆引きインデックス</li>
                    <li><strong>Web Worker活用</strong> - 検索処理をバックグラウンドスレッドで実行</li>
                    <li><strong>結果キャッシュ</strong> - 同じ食材選択なら前回結果を再利用</li>
                </ol>

                <p>これらの最適化により、<strong>検索速度が平均3秒 → 0.5秒</strong>に短縮されました。</p>

                <h2>実際の反響と今後の展望</h2>

                <p>CookSuggestは2022年4月のリリース以来、多くの方にご利用いただいています。「冷蔵庫の余り物を有効活用できた」「食材ロスが減った」といった声を頂き、開発者として嬉しい限りです。</p>

                <h3>今後の改善予定</h3>
                <ul>
                    <li>レシピ画像の追加（視覚的訴求力の向上）</li>
                    <li>栄養バランス分析機能</li>
                    <li>ユーザーレビュー・評価機能</li>
                    <li>レシピ数を2000件に拡大</li>
                    <li>AI活用による個別最適化（好みの学習）</li>
                </ul>

                <div class="highlight-box">
                    <strong>📱 CookSuggestを使ってみる</strong><br>
                    実際にアプリを試してみたい方は<a href="/" style="color: var(--primary-color); font-weight: bold;">こちら</a>からどうぞ！
                </div>

                <h2>まとめ：個人開発アプリの作り方</h2>

                <p>CookSuggest開発を通じて学んだ教訓をまとめます。</p>

                <ol>
                    <li><strong>データ収集は最初が肝心</strong> - API依存よりも独自DB構築が長期的には有利</li>
                    <li><strong>完璧を求めすぎない</strong> - 80%の完成度でリリースし、フィードバックを得る</li>
                    <li><strong>ユーザー体験を最優先</strong> - 検索速度・UI/UXにこだわる</li>
                    <li><strong>継続的改善</strong> - リリース後も定期的にアップデート</li>
                </ol>

                <p>個人開発アプリは、大規模サービスにはない「ニッチなニーズへの対応」が強みです。CookSuggestも「今ある食材だけで料理したい」という特定のニーズに特化したことで、ユーザーに支持されています。</p>

                <p>もしあなたも「こんなアプリがあったら便利なのに」というアイデアがあれば、ぜひ形にしてみてください。完璧でなくても、誰かの役に立つアプリになるはずです。</p>

                <p style="text-align: center; margin-top: 40px; font-style: italic; color: #666;">
                    最後まで読んでいただき、ありがとうございました！<br>
                    他の開発記事も<a href="blog.html" style="color: var(--primary-color); font-weight: bold;">ブログ</a>で公開していますので、ぜひご覧ください。
                </p>
            </div>

            <!-- AdSense 記事下広告 -->
            <div class="ad-container">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-1184134440246706"
                     data-ad-slot="4567890123"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </article>

        <a href="blog.html" class="back-link">← ブログ一覧に戻る</a>
    </div>
</body>
</html>
