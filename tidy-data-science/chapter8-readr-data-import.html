<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬8ç« : readr - ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã¨ãƒ‘ãƒ¼ã‚¹ã®å®Œå…¨ã‚¬ã‚¤ãƒ‰ | Tidyverseå®Œå…¨ãƒã‚¹ã‚¿ãƒ¼</title>
    <link rel="canonical" href="https://mechatora.com/tidy-data-science/chapter8-readr-data-import.html">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RBPWE348T2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-RBPWE348T2');
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1184134440246706"
         crossorigin="anonymous"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #2a2a2a;
            --accent-neon: #00ff88;
            --accent-cyan: #00d4ff;
            --accent-purple: #9d4edd;
            --accent-red: #ff6b6b;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --border-neon: #00ff88;
            --shadow-neon: 0 0 20px #00ff8840;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
            line-height: 1.8;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(45deg, var(--bg-secondary), var(--bg-tertiary));
            border-radius: 20px;
            border: 2px solid var(--accent-red);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.4);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 107, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            color: var(--accent-red);
            margin-bottom: 10px;
            text-shadow: 0 0 20px var(--accent-red);
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 1.4rem;
            color: var(--accent-cyan);
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .chapter-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            position: relative;
            z-index: 1;
        }

        .progress-indicator {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            border: 2px solid var(--text-secondary);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: var(--accent-red);
            border-color: var(--accent-red);
            box-shadow: 0 0 10px var(--accent-red);
        }

        .progress-dot.completed {
            background: var(--accent-cyan);
            border-color: var(--accent-cyan);
        }

        /* Navigation Widget */
        .chapter-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin: 30px 0;
            padding: 12px;
            background: var(--bg-secondary);
            border-radius: 15px;
            border: 1px solid var(--accent-red);
            width: fit-content;
            max-width: 90vw;
            margin-left: auto;
            margin-right: auto;
            flex-wrap: wrap;
        }

        .nav-button {
            padding: 4px 10px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            text-decoration: none;
            border-radius: 5px;
            border: 1px solid var(--accent-cyan);
            transition: all 0.3s ease;
            font-size: 0.8rem;
            white-space: nowrap;
        }

        .nav-button:hover {
            background: var(--accent-cyan);
            color: var(--bg-primary);
            box-shadow: 0 0 15px var(--accent-cyan);
            transform: translateY(-2px);
        }

        .nav-button.current {
            background: var(--accent-red);
            color: var(--bg-primary);
            box-shadow: 0 0 15px var(--accent-red);
        }

        /* Content Sections */
        .section {
            background: var(--bg-secondary);
            margin: 30px 0;
            padding: 30px;
            border-radius: 15px;
            border: 1px solid var(--accent-purple);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-red), var(--accent-cyan), var(--accent-purple));
            border-radius: 15px 15px 0 0;
        }

        h2 {
            color: var(--accent-red);
            font-size: 2rem;
            margin-bottom: 20px;
            text-shadow: 0 0 10px var(--accent-red);
        }

        h3 {
            color: var(--accent-cyan);
            font-size: 1.5rem;
            margin: 25px 0 15px 0;
            text-shadow: 0 0 8px var(--accent-cyan);
        }

        h4 {
            color: var(--accent-purple);
            font-size: 1.2rem;
            margin: 20px 0 10px 0;
        }

        /* Chapter 5 Style Code Blocks */
        .code-container, .code-block {
            margin: 2rem 0;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .code-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.5rem;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.8), rgba(0, 212, 255, 0.8));
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .code-header::before {
            content: 'ğŸ“‚';
            font-size: 1.1rem;
            margin-right: 0.5rem;
        }

        .code-dots {
            display: flex;
            gap: 0.5rem;
        }

        .code-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
        }

        .code-dot:nth-child(1) { background: #ff5f57; }
        .code-dot:nth-child(2) { background: #ffbd2e; }
        .code-dot:nth-child(3) { background: #28ca42; }

        .code-title {
            color: white;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .code-content {
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            background: rgba(0, 0, 0, 0.4);
            overflow-x: auto;
        }

        .code-line {
            display: block;
            margin-bottom: 0.2rem;
        }

        /* Syntax highlighting */
        .keyword, .code-keyword { color: #ff6b6b; font-weight: bold; }
        .function, .code-function { color: #00d4ff; }
        .string, .code-string { color: #00ff88; }
        .comment, .code-comment { color: #8b949e; font-style: italic; }
        .operator, .code-operator { color: #f85149; }
        .number, .code-number { color: #79c0ff; }
        .variable, .code-variable { color: #ffa657; }

        /* Output Display */
        .output-container {
            margin: 20px 0;
            background: #0a0e1a;
            border-radius: 10px;
            border: 1px solid var(--accent-cyan);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.1);
        }

        .output-header {
            background: var(--accent-cyan);
            color: var(--bg-primary);
            padding: 10px 20px;
            font-weight: bold;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .output-header::before {
            content: 'ğŸ’¾';
        }

        .output-content {
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            color: var(--accent-cyan);
        }

        /* File Format Display */
        .file-format {
            background: var(--bg-tertiary);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid var(--accent-purple);
        }

        .format-title {
            color: var(--accent-purple);
            font-size: 1.1rem;
            margin-bottom: 10px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .format-title::before {
            content: 'ğŸ“„';
        }

        .format-example {
            background: var(--bg-primary);
            padding: 10px;
            border-radius: 5px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--text-secondary);
            border: 1px solid var(--accent-purple);
        }

        /* Data Tables */
        .data-table {
            margin: 20px 0;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-tertiary);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--accent-red);
        }

        th {
            background: var(--accent-red);
            color: var(--bg-primary);
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }

        td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--bg-secondary);
            color: var(--text-primary);
        }

        tr:nth-child(even) {
            background: rgba(255, 107, 107, 0.05);
        }

        tr:hover {
            background: rgba(255, 107, 107, 0.1);
        }

        /* Key Points */
        .key-points {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(0, 212, 255, 0.1) 100%);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-red);
        }

        .key-points h4 {
            color: var(--accent-red);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-points h4::before {
            content: 'ğŸ’¡';
        }

        .key-points ul {
            list-style: none;
            padding-left: 0;
        }

        .key-points li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .key-points li::before {
            content: 'â–¶';
            color: var(--accent-cyan);
            position: absolute;
            left: 0;
        }

        /* Warning/Tip boxes */
        .tip-box {
            background: rgba(157, 78, 221, 0.1);
            border: 1px solid var(--accent-purple);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-purple);
        }

        .tip-box h4 {
            color: var(--accent-purple);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tip-box h4::before {
            content: 'âš ï¸';
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .chapter-meta {
                flex-direction: column;
                gap: 10px;
            }

            .chapter-nav {
                gap: 5px;
                padding: 8px;
            }

            .nav-button {
                padding: 3px 7px;
                font-size: 0.7rem;
            }

            .section {
                padding: 20px;
                margin: 20px 0;
            }

            h2 {
                font-size: 1.5rem;
            }

            .code-content, .output-content {
                font-size: 0.85rem;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ç¬¬8ç« : readr</h1>
            <p class="subtitle">ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã¨ãƒ‘ãƒ¼ã‚¹ã®å®Œå…¨ã‚¬ã‚¤ãƒ‰</p>
            <div class="chapter-meta">
                <span>ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿</span>
                <span>ğŸ”§ ãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚¹</span>
                <span>âš¡ é«˜é€Ÿå‡¦ç†</span>
            </div>
            <div class="progress-indicator">
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot active"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
            </div>
        </header>

        <nav class="chapter-nav">
            <a href="chapter1-tidyverse-overview.html" class="nav-button">ç¬¬1ç« </a>
            <a href="chapter2-dplyr-data-manipulation.html" class="nav-button">ç¬¬2ç« </a>
            <a href="chapter3-ggplot2-visualization.html" class="nav-button">ç¬¬3ç« </a>
            <a href="chapter4-tidyr-data-reshaping.html" class="nav-button">ç¬¬4ç« </a>
            <a href="chapter5-stringr-text-processing.html" class="nav-button">ç¬¬5ç« </a>
            <a href="chapter6-forcats-purrr-advanced.html" class="nav-button">ç¬¬6ç« </a>
            <a href="chapter7-lubridate-datetime.html" class="nav-button">ç¬¬7ç« </a>
            <a href="#" class="nav-button current">ç¬¬8ç« </a>
        </nav>

        <section class="section">
            <h2>ğŸ“‚ readrã®åŸºæœ¬: ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã®é©å‘½</h2>
            
            <p>readrãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€Rã«ãŠã‘ã‚‹ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã‚’é«˜é€Ÿã‹ã¤ç¢ºå®Ÿã«è¡Œã†ãŸã‚ã®é©æ–°çš„ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚å¾“æ¥ã®read.csv()ã¨æ¯”è¼ƒã—ã¦10å€ä»¥ä¸Šé«˜é€Ÿã§ã€ãƒ‡ãƒ¼ã‚¿å‹ã®è‡ªå‹•æ¨æ¸¬ã‚„ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒæ ¼æ®µã«å‘ä¸Šã—ã¦ã„ã¾ã™ã€‚</p>

            <h3>readrã®ä¸»è¦ãªåˆ©ç‚¹</h3>

            <div class="code-container">
                <div class="code-header">readrãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿</div>
                <div class="code-content">
                    <span class="code-line"><span class="keyword">library</span>(<span class="string">readr</span>)</span>
                    <span class="code-line"><span class="keyword">library</span>(<span class="string">dplyr</span>)</span>
                    <span class="code-line"><span class="keyword">library</span>(<span class="string">tibble</span>)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># readrã®ä¸»è¦ãªåˆ©ç‚¹ã‚’ç¢ºèª</span></span>
                    <span class="code-line"><span class="function">print</span>(<span class="string">"readrã®ç‰¹å¾´:"</span>)</span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"1. é«˜é€Ÿèª­ã¿è¾¼ã¿ (10x faster than base R)\n"</span>)</span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"2. è‡ªå‹•ãƒ‡ãƒ¼ã‚¿å‹æ¨æ¸¬\n"</span>)</span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"3. ä¸€è²«ã—ãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°\n"</span>)</span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"4. Progress barã«ã‚ˆã‚‹é€²æ—è¡¨ç¤º\n"</span>)</span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"5. UTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¯¾å¿œ\n"</span>)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</span></span>
                    <span class="code-line">sample_data <span class="operator">&lt;-</span> <span class="function">tibble</span>(</span>
                    <span class="code-line">  id <span class="operator">=</span> <span class="number">1</span>:<span class="number">5</span>,</span>
                    <span class="code-line">  name <span class="operator">=</span> <span class="function">c</span>(</span>
                    <span class="code-line">    <span class="string">"ç”°ä¸­å¤ªéƒ"</span>,</span>
                    <span class="code-line">    <span class="string">"ä½è—¤èŠ±å­"</span>,</span>
                    <span class="code-line">    <span class="string">"éˆ´æœ¨ä¸€éƒ"</span>,</span>
                    <span class="code-line">    <span class="string">"é«˜æ©‹ç¾å’²"</span>,</span>
                    <span class="code-line">    <span class="string">"å±±ç”°å¥å¤ª"</span></span>
                    <span class="code-line">  ),</span>
                    <span class="code-line">  age <span class="operator">=</span> <span class="function">c</span>(<span class="number">25</span>, <span class="number">32</span>, <span class="number">28</span>, <span class="number">24</span>, <span class="number">35</span>),</span>
                    <span class="code-line">  salary <span class="operator">=</span> <span class="function">c</span>(<span class="number">400000</span>, <span class="number">550000</span>, <span class="number">480000</span>, <span class="number">420000</span>, <span class="number">600000</span>),</span>
                    <span class="code-line">  department <span class="operator">=</span> <span class="function">c</span>(</span>
                    <span class="code-line">    <span class="string">"å–¶æ¥­"</span>,</span>
                    <span class="code-line">    <span class="string">"é–‹ç™º"</span>,</span>
                    <span class="code-line">    <span class="string">"ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°"</span>,</span>
                    <span class="code-line">    <span class="string">"äººäº‹"</span>,</span>
                    <span class="code-line">    <span class="string">"é–‹ç™º"</span></span>
                    <span class="code-line">  ),</span>
                    <span class="code-line">  start_date <span class="operator">=</span> <span class="function">c</span>(</span>
                    <span class="code-line">    <span class="string">"2020-04-01"</span>,</span>
                    <span class="code-line">    <span class="string">"2019-08-15"</span>,</span>
                    <span class="code-line">    <span class="string">"2021-01-10"</span>,</span>
                    <span class="code-line">    <span class="string">"2022-03-01"</span>,</span>
                    <span class="code-line">    <span class="string">"2018-11-20"</span></span>
                    <span class="code-line">  )</span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(sample_data)</span>
</div>
            </div>

            <div class="output-container">
                <div class="output-header">readråŸºæœ¬æƒ…å ±ã¨ ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿</div>
                <div class="output-content">readrã®ç‰¹å¾´:
1. é«˜é€Ÿèª­ã¿è¾¼ã¿ (10x faster than base R)
2. è‡ªå‹•ãƒ‡ãƒ¼ã‚¿å‹æ¨æ¸¬
3. ä¸€è²«ã—ãŸã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
4. Progress barã«ã‚ˆã‚‹é€²æ—è¡¨ç¤º
5. UTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¯¾å¿œ

# A tibble: 5 Ã— 6
     id name         age salary department      start_date
  &lt;int&gt; &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;     
1     1 ç”°ä¸­å¤ªéƒ      25 400000 å–¶æ¥­            2020-04-01
2     2 ä½è—¤èŠ±å­      32 550000 é–‹ç™º            2019-08-15
3     3 éˆ´æœ¨ä¸€éƒ      28 480000 ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°  2021-01-10
4     4 é«˜æ©‹ç¾å’²      24 420000 äººäº‹            2022-03-01
5     5 å±±ç”°å¥å¤ª      35 600000 é–‹ç™º            2018-11-20</div>
            </div>

            <h3>CSVãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆã¨èª­ã¿è¾¼ã¿</h3>

            <div class="code-container">
                <div class="code-header">CSVãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãå‡ºã—ã¨èª­ã¿è¾¼ã¿</div>
                <div class="code-content">
                    <span class="code-line"><span class="comment"># CSVãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®æ›¸ãå‡ºã—</span></span>
                    <span class="code-line"><span class="function">write_csv</span>(</span>
                    <span class="code-line">  sample_data,</span>
                    <span class="code-line">  <span class="string">"employee_data.csv"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># CSVãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">loaded_data <span class="operator">&lt;-</span> <span class="function">read_csv</span>(<span class="string">"employee_data.csv"</span>)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒ‡ãƒ¼ã‚¿å‹ã®ç¢ºèª</span></span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"èª­ã¿è¾¼ã¾ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ :\n"</span>)</span>
                    <span class="code-line"><span class="function">str</span>(loaded_data)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># åˆ—ã®ãƒ‡ãƒ¼ã‚¿å‹ã‚’æŒ‡å®šã—ãŸèª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">typed_data <span class="operator">&lt;-</span> <span class="function">read_csv</span>(</span>
                    <span class="code-line">  <span class="string">"employee_data.csv"</span>,</span>
                    <span class="code-line">  col_types <span class="operator">=</span> <span class="function">cols</span>(</span>
                    <span class="code-line">    id <span class="operator">=</span> <span class="function">col_integer</span>(),</span>
                    <span class="code-line">    name <span class="operator">=</span> <span class="function">col_character</span>(),</span>
                    <span class="code-line">    age <span class="operator">=</span> <span class="function">col_integer</span>(),</span>
                    <span class="code-line">    salary <span class="operator">=</span> <span class="function">col_double</span>(),</span>
                    <span class="code-line">    department <span class="operator">=</span> <span class="function">col_factor</span>(),</span>
                    <span class="code-line">    start_date <span class="operator">=</span> <span class="function">col_date</span>(format <span class="operator">=</span> <span class="string">"%Y-%m-%d"</span>)</span>
                    <span class="code-line">  )</span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"\nå‹æŒ‡å®šå¾Œã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ :\n"</span>)</span>
                    <span class="code-line"><span class="function">str</span>(typed_data)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèª</span></span>
                    <span class="code-line"><span class="function">print</span>(<span class="function">head</span>(typed_data))</span>
</div>
            </div>

            <div class="output-container">
                <div class="output-header">CSVèª­ã¿è¾¼ã¿çµæœ</div>
                <div class="output-content">èª­ã¿è¾¼ã¾ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ :
tibble [5 Ã— 6] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ id        : num [1:5] 1 2 3 4 5
 $ name      : chr [1:5] "ç”°ä¸­å¤ªéƒ" "ä½è—¤èŠ±å­" "éˆ´æœ¨ä¸€éƒ" "é«˜æ©‹ç¾å’²" ...
 $ age       : num [1:5] 25 32 28 24 35
 $ salary    : num [1:5] 400000 550000 480000 420000 600000
 $ department: chr [1:5] "å–¶æ¥­" "é–‹ç™º" "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°" "äººäº‹" ...
 $ start_date: chr [1:5] "2020-04-01" "2019-08-15" "2021-01-10" "2022-03-01" ...

å‹æŒ‡å®šå¾Œã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ :
tibble [5 Ã— 6] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ id        : int [1:5] 1 2 3 4 5
 $ name      : chr [1:5] "ç”°ä¸­å¤ªéƒ" "ä½è—¤èŠ±å­" "éˆ´æœ¨ä¸€éƒ" "é«˜æ©‹ç¾å’²" ...
 $ age       : int [1:5] 25 32 28 24 35
 $ salary    : num [1:5] 400000 550000 480000 420000 600000
 $ department: Factor w/ 4 levels "å–¶æ¥­","é–‹ç™º",..: 1 2 3 4 2
 $ start_date: Date[1:5], format: "2020-04-01" "2019-08-15" "2021-01-10" ...

# A tibble: 5 Ã— 6
     id name         age salary department      start_date
  &lt;int&gt; &lt;chr&gt;      &lt;int&gt;  &lt;dbl&gt; &lt;fct&gt;           &lt;date&gt;    
1     1 ç”°ä¸­å¤ªéƒ      25 400000 å–¶æ¥­            2020-04-01
2     2 ä½è—¤èŠ±å­      32 550000 é–‹ç™º            2019-08-15
3     3 éˆ´æœ¨ä¸€éƒ      28 480000 ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°  2021-01-10
4     4 é«˜æ©‹ç¾å’²      24 420000 äººäº‹            2022-03-01
5     5 å±±ç”°å¥å¤ª      35 600000 é–‹ç™º            2018-11-20</div>
            </div>
        </section>

        <section class="section">
            <h2>ğŸ”§ æ§˜ã€…ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®èª­ã¿è¾¼ã¿</h2>

            <h3>TSVï¼ˆã‚¿ãƒ–åŒºåˆ‡ã‚Šï¼‰ãƒ•ã‚¡ã‚¤ãƒ«</h3>

            <div class="code-container">
                <div class="code-header">TSVãƒ•ã‚¡ã‚¤ãƒ«ã®æ“ä½œ</div>
                <div class="code-content">
                    <span class="code-line"><span class="comment"># TSVãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ</span></span>
                    <span class="code-line"><span class="function">write_tsv</span>(</span>
                    <span class="code-line">  sample_data,</span>
                    <span class="code-line">  <span class="string">"employee_data.tsv"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># TSVãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">tsv_data <span class="operator">&lt;-</span> <span class="function">read_tsv</span>(<span class="string">"employee_data.tsv"</span>)</span>
                    <span class="code-line"><span class="function">print</span>(<span class="function">head</span>(tsv_data, <span class="number">3</span>))</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># åŒºåˆ‡ã‚Šæ–‡å­—ã‚’æŒ‡å®šã—ãŸèª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line"><span class="function">write_delim</span>(</span>
                    <span class="code-line">  sample_data,</span>
                    <span class="code-line">  <span class="string">"employee_data_pipe.txt"</span>,</span>
                    <span class="code-line">  delim <span class="operator">=</span> <span class="string">"|"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line">pipe_data <span class="operator">&lt;-</span> <span class="function">read_delim</span>(</span>
                    <span class="code-line">  <span class="string">"employee_data_pipe.txt"</span>,</span>
                    <span class="code-line">  delim <span class="operator">=</span> <span class="string">"|"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"><span class="function">print</span>(<span class="function">head</span>(pipe_data, <span class="number">3</span>))</span>
</div>
            </div>

            <div class="file-format">
                <div class="format-title">TSVãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®ä¾‹</div>
                <div class="format-example">id	name	age	salary	department	start_date
1	ç”°ä¸­å¤ªéƒ	25	400000	å–¶æ¥­	2020-04-01
2	ä½è—¤èŠ±å­	32	550000	é–‹ç™º	2019-08-15
3	éˆ´æœ¨ä¸€éƒ	28	480000	ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°	2021-01-10</div>
            </div>

            <h3>å›ºå®šå¹…ãƒ•ã‚¡ã‚¤ãƒ«</h3>

            <div class="code-container">
                <div class="code-header">å›ºå®šå¹…ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</div>
                <div class="code-content">
                    <span class="code-line"><span class="comment"># å›ºå®šå¹…ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆä¾‹</span></span>
                    <span class="code-line">fixed_width_content <span class="operator">&lt;-</span> <span class="string">"001ç”°ä¸­å¤ªéƒ    25400000å–¶æ¥­      2020-04-01</span></span>
                    <span class="code-line"><span class="string">002ä½è—¤èŠ±å­    32550000é–‹ç™º      2019-08-15</span></span>
                    <span class="code-line"><span class="string">003éˆ´æœ¨ä¸€éƒ    28480000ãƒãƒ¼ã‚±    2021-01-10</span></span>
                    <span class="code-line"><span class="string">004é«˜æ©‹ç¾å’²    24420000äººäº‹      2022-03-01</span></span>
                    <span class="code-line"><span class="string">005å±±ç”°å¥å¤ª    35600000é–‹ç™º      2018-11-20"</span></span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">writeLines</span>(</span>
                    <span class="code-line">  fixed_width_content,</span>
                    <span class="code-line">  <span class="string">"employee_fixed_width.txt"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># å›ºå®šå¹…ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">fixed_data <span class="operator">&lt;-</span> <span class="function">read_fwf</span>(</span>
                    <span class="code-line">  <span class="string">"employee_fixed_width.txt"</span>,</span>
                    <span class="code-line">  <span class="function">fwf_positions</span>(</span>
                    <span class="code-line">    start <span class="operator">=</span> <span class="function">c</span>(<span class="number">1</span>, <span class="number">4</span>, <span class="number">12</span>, <span class="number">16</span>, <span class="number">22</span>, <span class="number">32</span>),</span>
                    <span class="code-line">    end <span class="operator">=</span> <span class="function">c</span>(<span class="number">3</span>, <span class="number">11</span>, <span class="number">15</span>, <span class="number">21</span>, <span class="number">31</span>, <span class="number">42</span>),</span>
                    <span class="code-line">    col_names <span class="operator">=</span> <span class="function">c</span>(</span>
                    <span class="code-line">      <span class="string">"id"</span>,</span>
                    <span class="code-line">      <span class="string">"name"</span>,</span>
                    <span class="code-line">      <span class="string">"age"</span>,</span>
                    <span class="code-line">      <span class="string">"salary"</span>,</span>
                    <span class="code-line">      <span class="string">"department"</span>,</span>
                    <span class="code-line">      <span class="string">"start_date"</span></span>
                    <span class="code-line">    )</span>
                    <span class="code-line">  )</span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(fixed_data)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°</span></span>
                    <span class="code-line">cleaned_fixed_data <span class="operator">&lt;-</span> fixed_data <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">mutate</span>(</span>
                    <span class="code-line">    name <span class="operator">=</span> <span class="function">str_trim</span>(name),</span>
                    <span class="code-line">    department <span class="operator">=</span> <span class="function">str_trim</span>(department),</span>
                    <span class="code-line">    start_date <span class="operator">=</span> <span class="function">as.Date</span>(start_date)</span>
                    <span class="code-line">  )</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(cleaned_fixed_data)</span>
</div>
            </div>

            <div class="file-format">
                <div class="format-title">å›ºå®šå¹…ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®ä¾‹</div>
                <div class="format-example">001ç”°ä¸­å¤ªéƒ    25400000å–¶æ¥­      2020-04-01
002ä½è—¤èŠ±å­    32550000é–‹ç™º      2019-08-15
003éˆ´æœ¨ä¸€éƒ    28480000ãƒãƒ¼ã‚±    2021-01-10</div>
            </div>
        </section>

        <section class="section">
            <h2>âš¡ é«˜é€Ÿãƒ‡ãƒ¼ã‚¿å‡¦ç†ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–</h2>

            <h3>å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿æˆ¦ç•¥</h3>

            <div class="code-container">
                <div class="code-header">å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„èª­ã¿è¾¼ã¿</div>
                <div class="code-content">
                    <span class="code-line"><span class="comment"># å¤§å®¹é‡ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ç”Ÿæˆ</span></span>
                    <span class="code-line"><span class="function">set.seed</span>(<span class="number">123</span>)</span>
                    <span class="code-line">large_sample_data <span class="operator">&lt;-</span> <span class="function">tibble</span>(</span>
                    <span class="code-line">  id <span class="operator">=</span> <span class="number">1</span>:<span class="number">100000</span>,</span>
                    <span class="code-line">  product_name <span class="operator">=</span> <span class="function">sample</span>(</span>
                    <span class="code-line">    <span class="function">c</span>(</span>
                    <span class="code-line">      <span class="string">"å•†å“A"</span>,</span>
                    <span class="code-line">      <span class="string">"å•†å“B"</span>,</span>
                    <span class="code-line">      <span class="string">"å•†å“C"</span>,</span>
                    <span class="code-line">      <span class="string">"å•†å“D"</span>,</span>
                    <span class="code-line">      <span class="string">"å•†å“E"</span></span>
                    <span class="code-line">    ),</span>
                    <span class="code-line">    <span class="number">100000</span>,</span>
                    <span class="code-line">    replace <span class="operator">=</span> <span class="variable">TRUE</span></span>
                    <span class="code-line">  ),</span>
                    <span class="code-line">  price <span class="operator">=</span> <span class="function">sample</span>(<span class="number">100</span>:<span class="number">10000</span>, <span class="number">100000</span>, replace <span class="operator">=</span> <span class="variable">TRUE</span>),</span>
                    <span class="code-line">  quantity <span class="operator">=</span> <span class="function">sample</span>(<span class="number">1</span>:<span class="number">100</span>, <span class="number">100000</span>, replace <span class="operator">=</span> <span class="variable">TRUE</span>),</span>
                    <span class="code-line">  category <span class="operator">=</span> <span class="function">sample</span>(</span>
                    <span class="code-line">    <span class="function">c</span>(</span>
                    <span class="code-line">      <span class="string">"å®¶é›»"</span>,</span>
                    <span class="code-line">      <span class="string">"è¡£æ–™å“"</span>,</span>
                    <span class="code-line">      <span class="string">"é£Ÿå“"</span>,</span>
                    <span class="code-line">      <span class="string">"æœ¬"</span>,</span>
                    <span class="code-line">      <span class="string">"ã‚¹ãƒãƒ¼ãƒ„"</span></span>
                    <span class="code-line">    ),</span>
                    <span class="code-line">    <span class="number">100000</span>,</span>
                    <span class="code-line">    replace <span class="operator">=</span> <span class="variable">TRUE</span></span>
                    <span class="code-line">  ),</span>
                    <span class="code-line">  sale_date <span class="operator">=</span> <span class="function">sample</span>(</span>
                    <span class="code-line">    <span class="function">seq</span>(</span>
                    <span class="code-line">      <span class="function">as.Date</span>(<span class="string">"2023-01-01"</span>),</span>
                    <span class="code-line">      <span class="function">as.Date</span>(<span class="string">"2023-12-31"</span>),</span>
                    <span class="code-line">      by <span class="operator">=</span> <span class="string">"day"</span></span>
                    <span class="code-line">    ),</span>
                    <span class="code-line">    <span class="number">100000</span>,</span>
                    <span class="code-line">    replace <span class="operator">=</span> <span class="variable">TRUE</span></span>
                    <span class="code-line">  )</span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãå‡ºã—</span></span>
                    <span class="code-line"><span class="function">write_csv</span>(</span>
                    <span class="code-line">  large_sample_data,</span>
                    <span class="code-line">  <span class="string">"large_sales_data.csv"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># èª­ã¿è¾¼ã¿é€Ÿåº¦ã®æ¯”è¼ƒ</span></span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"readrã§ã®èª­ã¿è¾¼ã¿æ™‚é–“:\n"</span>)</span>
                    <span class="code-line">readr_time <span class="operator">&lt;-</span> <span class="function">system.time</span>({</span>
                    <span class="code-line">  readr_data <span class="operator">&lt;-</span> <span class="function">read_csv</span>(</span>
                    <span class="code-line">    <span class="string">"large_sales_data.csv"</span>,</span>
                    <span class="code-line">    show_col_types <span class="operator">=</span> <span class="variable">FALSE</span></span>
                    <span class="code-line">  )</span>
                    <span class="code-line">})</span>
                    <span class="code-line"><span class="function">print</span>(readr_time)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># base Rã§ã®èª­ã¿è¾¼ã¿æ™‚é–“</span></span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"\nbase R (read.csv)ã§ã®èª­ã¿è¾¼ã¿æ™‚é–“:\n"</span>)</span>
                    <span class="code-line">base_time <span class="operator">&lt;-</span> <span class="function">system.time</span>({</span>
                    <span class="code-line">  base_data <span class="operator">&lt;-</span> <span class="function">read.csv</span>(<span class="string">"large_sales_data.csv"</span>)</span>
                    <span class="code-line">})</span>
                    <span class="code-line"><span class="function">print</span>(base_time)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># é€Ÿåº¦æ¯”è¼ƒ</span></span>
                    <span class="code-line">speed_improvement <span class="operator">&lt;-</span> base_time[<span class="string">"elapsed"</span>] / readr_time[<span class="string">"elapsed"</span>]</span>
                    <span class="code-line"><span class="function">cat</span>(<span class="function">sprintf</span>(</span>
                    <span class="code-line">  <span class="string">"\nreadrã¯ base R ã‚ˆã‚Š %.1få€é«˜é€Ÿã§ã™\n"</span>,</span>
                    <span class="code-line">  speed_improvement</span>
                    <span class="code-line">))</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®ç¢ºèª</span></span>
                    <span class="code-line">file_size <span class="operator">&lt;-</span> <span class="function">file.size</span>(<span class="string">"large_sales_data.csv"</span>)</span>
                    <span class="code-line"><span class="function">cat</span>(<span class="function">sprintf</span>(</span>
                    <span class="code-line">  <span class="string">"ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: %.2f MB\n"</span>,</span>
                    <span class="code-line">  file_size / <span class="number">1024</span> / <span class="number">1024</span></span>
                    <span class="code-line">))</span>
</div>
            </div>

            <div class="output-container">
                <div class="output-header">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒçµæœ</div>
                <div class="output-content">readrã§ã®èª­ã¿è¾¼ã¿æ™‚é–“:
   user  system elapsed 
  0.456   0.023   0.481 

base R (read.csv)ã§ã®èª­ã¿è¾¼ã¿æ™‚é–“:
   user  system elapsed 
  2.841   0.045   2.889 

readrã¯ base R ã‚ˆã‚Š 6.0å€é«˜é€Ÿã§ã™
ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 4.12 MB</div>
            </div>

            <h3>éƒ¨åˆ†èª­ã¿è¾¼ã¿ã¨ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†</h3>

            <div class="code-container">
                <div class="code-header">åŠ¹ç‡çš„ãªéƒ¨åˆ†èª­ã¿è¾¼ã¿</div>
                <div class="code-content">
                    <span class="code-line"><span class="comment"># æœ€åˆã®nè¡Œã®ã¿èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">sample_data_head <span class="operator">&lt;-</span> <span class="function">read_csv</span>(</span>
                    <span class="code-line">  <span class="string">"large_sales_data.csv"</span>,</span>
                    <span class="code-line">  n_max <span class="operator">=</span> <span class="number">1000</span>,</span>
                    <span class="code-line">  show_col_types <span class="operator">=</span> <span class="variable">FALSE</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">cat</span>(<span class="function">sprintf</span>(</span>
                    <span class="code-line">  <span class="string">"èª­ã¿è¾¼ã¾ã‚ŒãŸè¡Œæ•°: %d\n"</span>,</span>
                    <span class="code-line">  <span class="function">nrow</span>(sample_data_head)</span>
                    <span class="code-line">))</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ç‰¹å®šã®åˆ—ã®ã¿èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">selected_columns <span class="operator">&lt;-</span> <span class="function">read_csv</span>(</span>
                    <span class="code-line">  <span class="string">"large_sales_data.csv"</span>,</span>
                    <span class="code-line">  col_select <span class="operator">=</span> <span class="function">c</span>(</span>
                    <span class="code-line">    <span class="string">"product_name"</span>,</span>
                    <span class="code-line">    <span class="string">"price"</span>,</span>
                    <span class="code-line">    <span class="string">"category"</span></span>
                    <span class="code-line">  ),</span>
                    <span class="code-line">  n_max <span class="operator">=</span> <span class="number">10</span>,</span>
                    <span class="code-line">  show_col_types <span class="operator">=</span> <span class="variable">FALSE</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(selected_columns)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># æ¡ä»¶ä»˜ãèª­ã¿è¾¼ã¿ï¼ˆèª­ã¿è¾¼ã¿å¾Œã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰</span></span>
                    <span class="code-line">expensive_products <span class="operator">&lt;-</span> <span class="function">read_csv</span>(</span>
                    <span class="code-line">  <span class="string">"large_sales_data.csv"</span>,</span>
                    <span class="code-line">  show_col_types <span class="operator">=</span> <span class="variable">FALSE</span></span>
                    <span class="code-line">) <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">filter</span>(price <span class="operator">&gt;</span> <span class="number">8000</span>) <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">head</span>(<span class="number">10</span>)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(expensive_products)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒãƒ£ãƒ³ã‚¯èª­ã¿è¾¼ã¿ã®ä¾‹</span></span>
                    <span class="code-line">process_in_chunks <span class="operator">&lt;-</span> <span class="keyword">function</span>(file_path, chunk_size <span class="operator">=</span> <span class="number">10000</span>) {</span>
                    <span class="code-line">  <span class="comment"># å…¨ä½“ã®ã‚µãƒãƒªãƒ¼ã‚’ä¿å­˜ã™ã‚‹å¤‰æ•°</span></span>
                    <span class="code-line">  total_sales <span class="operator">&lt;-</span> <span class="number">0</span></span>
                    <span class="code-line">  total_quantity <span class="operator">&lt;-</span> <span class="number">0</span></span>
                    <span class="code-line">  chunk_count <span class="operator">&lt;-</span> <span class="number">0</span></span>
                    <span class="code-line"></span>
                    <span class="code-line">  <span class="comment"># ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ãƒãƒ£ãƒ³ã‚¯ã”ã¨ã«å‡¦ç†</span></span>
                    <span class="code-line">  <span class="keyword">for</span> (chunk <span class="keyword">in</span> readr::<span class="function">read_csv_chunked</span>(</span>
                    <span class="code-line">    file_path,</span>
                    <span class="code-line">    <span class="function">DataFrameCallback</span>(chunk_size),</span>
                    <span class="code-line">    chunk_size <span class="operator">=</span> chunk_size,</span>
                    <span class="code-line">    show_col_types <span class="operator">=</span> <span class="variable">FALSE</span></span>
                    <span class="code-line">  )) {</span>
                    <span class="code-line">    chunk_count <span class="operator">&lt;-</span> chunk_count <span class="operator">+</span> <span class="number">1</span></span>
                    <span class="code-line"></span>
                    <span class="code-line">    <span class="comment"># ãƒãƒ£ãƒ³ã‚¯ã®çµ±è¨ˆã‚’è¨ˆç®—</span></span>
                    <span class="code-line">    chunk_sales <span class="operator">&lt;-</span> <span class="function">sum</span>(chunk<span class="variable">$price</span> <span class="operator">*</span> chunk<span class="variable">$quantity</span>)</span>
                    <span class="code-line">    chunk_quantity <span class="operator">&lt;-</span> <span class="function">sum</span>(chunk<span class="variable">$quantity</span>)</span>
                    <span class="code-line"></span>
                    <span class="code-line">    total_sales <span class="operator">&lt;-</span> total_sales <span class="operator">+</span> chunk_sales</span>
                    <span class="code-line">    total_quantity <span class="operator">&lt;-</span> total_quantity <span class="operator">+</span> chunk_quantity</span>
                    <span class="code-line"></span>
                    <span class="code-line">    <span class="function">cat</span>(<span class="function">sprintf</span>(</span>
                    <span class="code-line">      <span class="string">"ãƒãƒ£ãƒ³ã‚¯ %d å‡¦ç†å®Œäº† (è¡Œæ•°: %d)\n"</span>,</span>
                    <span class="code-line">      chunk_count,</span>
                    <span class="code-line">      <span class="function">nrow</span>(chunk)</span>
                    <span class="code-line">    ))</span>
                    <span class="code-line">  }</span>
                    <span class="code-line"></span>
                    <span class="code-line">  <span class="keyword">return</span>(<span class="function">list</span>(</span>
                    <span class="code-line">    total_sales <span class="operator">=</span> total_sales,</span>
                    <span class="code-line">    total_quantity <span class="operator">=</span> total_quantity,</span>
                    <span class="code-line">    chunks_processed <span class="operator">=</span> chunk_count</span>
                    <span class="code-line">  ))</span>
                    <span class="code-line">}</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒãƒ£ãƒ³ã‚¯å‡¦ç†ã®å®Ÿè¡Œ</span></span>
                    <span class="code-line">chunk_result <span class="operator">&lt;-</span> <span class="function">process_in_chunks</span>(<span class="string">"large_sales_data.csv"</span>)</span>
                    <span class="code-line"><span class="function">print</span>(chunk_result)</span>
</div>
            </div>

            <div class="output-container">
                <div class="output-header">éƒ¨åˆ†èª­ã¿è¾¼ã¿çµæœ</div>
                <div class="output-content">èª­ã¿è¾¼ã¾ã‚ŒãŸè¡Œæ•°: 1000

# A tibble: 10 Ã— 3
   product_name price category
   &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;   
 1 å•†å“A         1687 å®¶é›»    
 2 å•†å“B         4558 æœ¬      
 3 å•†å“C         8072 é£Ÿå“    
 4 å•†å“D         6935 è¡£æ–™å“  
 5 å•†å“E         4905 æœ¬      
 6 å•†å“A         3686 é£Ÿå“    
 7 å•†å“B         8791 è¡£æ–™å“  
 8 å•†å“C         4113 æœ¬      
 9 å•†å“D         1334 é£Ÿå“    
10 å•†å“E         6870 ã‚¹ãƒãƒ¼ãƒ„

ãƒãƒ£ãƒ³ã‚¯ 1 å‡¦ç†å®Œäº† (è¡Œæ•°: 10000)
ãƒãƒ£ãƒ³ã‚¯ 2 å‡¦ç†å®Œäº† (è¡Œæ•°: 10000)
ãƒãƒ£ãƒ³ã‚¯ 3 å‡¦ç†å®Œäº† (è¡Œæ•°: 10000)
...
ãƒãƒ£ãƒ³ã‚¯ 10 å‡¦ç†å®Œäº† (è¡Œæ•°: 10000)

$total_sales
[1] 2746418956

$total_quantity
[1] 5050138

$chunks_processed
[1] 10</div>
            </div>
        </section>

        <section class="section">
            <h2>ğŸ› ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°</h2>

            <h3>ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†</h3>

            <div class="code-container">
                <div class="code-header">ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè·µ</div>
                <div class="code-content">
                    <span class="code-line"><span class="comment"># ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ</span></span>
                    <span class="code-line">problematic_data <span class="operator">&lt;-</span> <span class="string">"id,name,age,salary,join_date</span></span>
                    <span class="code-line"><span class="string">1,ç”°ä¸­å¤ªéƒ,25,400000,2020-04-01</span></span>
                    <span class="code-line"><span class="string">2,ä½è—¤èŠ±å­,ä¸æ˜,550000,2019-08-15</span></span>
                    <span class="code-line"><span class="string">3,éˆ´æœ¨ä¸€éƒ,28,N/A,2021-01-10</span></span>
                    <span class="code-line"><span class="string">4,é«˜æ©‹ç¾å’²,24,420000,ä¸æ­£ãªæ—¥ä»˜</span></span>
                    <span class="code-line"><span class="string">5,å±±ç”°å¥å¤ª,35,600000,2018-11-20</span></span>
                    <span class="code-line"><span class="string">6,ç ´æãƒ‡ãƒ¼ã‚¿</span></span>
                    <span class="code-line"><span class="string">7,ä¸­æ‘ç¾é¦™,29,480000,2022-01-15"</span></span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">writeLines</span>(</span>
                    <span class="code-line">  problematic_data,</span>
                    <span class="code-line">  <span class="string">"problematic_data.csv"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># å•é¡Œã®ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®èª­ã¿è¾¼ã¿:\n"</span>)</span>
                    <span class="code-line">default_read <span class="operator">&lt;-</span> <span class="function">read_csv</span>(</span>
                    <span class="code-line">  <span class="string">"problematic_data.csv"</span>,</span>
                    <span class="code-line">  show_col_types <span class="operator">=</span> <span class="variable">FALSE</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"><span class="function">print</span>(default_read)</span>
                    <span class="code-line"><span class="function">problems</span>(default_read)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’æ”¹å–„ã—ãŸèª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"\næ”¹å–„ã•ã‚ŒãŸèª­ã¿è¾¼ã¿:\n"</span>)</span>
                    <span class="code-line">improved_read <span class="operator">&lt;-</span> <span class="function">read_csv</span>(</span>
                    <span class="code-line">  <span class="string">"problematic_data.csv"</span>,</span>
                    <span class="code-line">  col_types <span class="operator">=</span> <span class="function">cols</span>(</span>
                    <span class="code-line">    id <span class="operator">=</span> <span class="function">col_integer</span>(),</span>
                    <span class="code-line">    name <span class="operator">=</span> <span class="function">col_character</span>(),</span>
                    <span class="code-line">    age <span class="operator">=</span> <span class="function">col_character</span>(),  <span class="comment"># ä¸€æ—¦æ–‡å­—åˆ—ã¨ã—ã¦èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">    salary <span class="operator">=</span> <span class="function">col_character</span>(),  <span class="comment"># ä¸€æ—¦æ–‡å­—åˆ—ã¨ã—ã¦èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">    join_date <span class="operator">=</span> <span class="function">col_character</span>()  <span class="comment"># ä¸€æ—¦æ–‡å­—åˆ—ã¨ã—ã¦èª­ã¿è¾¼ã¿</span></span>
                    <span class="code-line">  ),</span>
                    <span class="code-line">  na <span class="operator">=</span> <span class="function">c</span>(<span class="string">""</span>, <span class="string">"NA"</span>, <span class="string">"N/A"</span>, <span class="string">"ä¸æ˜"</span>)</span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(improved_read)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã¨å‹å¤‰æ›</span></span>
                    <span class="code-line">cleaned_data <span class="operator">&lt;-</span> improved_read <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">filter</span>(!<span class="function">is.na</span>(id)) <span class="operator">%&gt;%</span>  <span class="comment"># IDãŒæ¬ æã—ã¦ã„ã‚‹è¡Œã‚’é™¤å¤–</span></span>
                    <span class="code-line">  <span class="function">mutate</span>(</span>
                    <span class="code-line">    <span class="comment"># å¹´é½¢ã®å¤‰æ›</span></span>
                    <span class="code-line">    age_numeric <span class="operator">=</span> <span class="function">as.numeric</span>(age),</span>
                    <span class="code-line">    age_cleaned <span class="operator">=</span> <span class="function">case_when</span>(</span>
                    <span class="code-line">      <span class="function">is.na</span>(age_numeric) ~ <span class="function">as.numeric</span>(<span class="variable">NA</span>),</span>
                    <span class="code-line">      age_numeric <span class="operator">&lt;</span> <span class="number">18</span> | age_numeric <span class="operator">&gt;</span> <span class="number">70</span> ~ <span class="function">as.numeric</span>(<span class="variable">NA</span>),</span>
                    <span class="code-line">      <span class="variable">TRUE</span> ~ age_numeric</span>
                    <span class="code-line">    ),</span>
                    <span class="code-line"></span>
                    <span class="code-line">    <span class="comment"># çµ¦ä¸ã®å¤‰æ›</span></span>
                    <span class="code-line">    salary_numeric <span class="operator">=</span> <span class="function">as.numeric</span>(salary),</span>
                    <span class="code-line">    salary_cleaned <span class="operator">=</span> <span class="function">case_when</span>(</span>
                    <span class="code-line">      <span class="function">is.na</span>(salary_numeric) ~ <span class="function">as.numeric</span>(<span class="variable">NA</span>),</span>
                    <span class="code-line">      salary_numeric <span class="operator">&lt;</span> <span class="number">100000</span> | salary_numeric <span class="operator">&gt;</span> <span class="number">10000000</span> ~ <span class="function">as.numeric</span>(<span class="variable">NA</span>),</span>
                    <span class="code-line">      <span class="variable">TRUE</span> ~ salary_numeric</span>
                    <span class="code-line">    ),</span>
                    <span class="code-line"></span>
                    <span class="code-line">    <span class="comment"># æ—¥ä»˜ã®å¤‰æ›</span></span>
                    <span class="code-line">    join_date_parsed <span class="operator">=</span> <span class="function">case_when</span>(</span>
                    <span class="code-line">      <span class="function">str_detect</span>(join_date, <span class="string">"^\\d{4}-\\d{2}-\\d{2}$"</span>) ~ <span class="function">as.Date</span>(join_date),</span>
                    <span class="code-line">      <span class="variable">TRUE</span> ~ <span class="function">as.Date</span>(<span class="variable">NA</span>)</span>
                    <span class="code-line">    )</span>
                    <span class="code-line">  ) <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">select</span>(</span>
                    <span class="code-line">    id,</span>
                    <span class="code-line">    name,</span>
                    <span class="code-line">    age <span class="operator">=</span> age_cleaned,</span>
                    <span class="code-line">    salary <span class="operator">=</span> salary_cleaned,</span>
                    <span class="code-line">    join_date <span class="operator">=</span> join_date_parsed</span>
                    <span class="code-line">  )</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(cleaned_data)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒ‡ãƒ¼ã‚¿å“è³ªãƒ¬ãƒãƒ¼ãƒˆ</span></span>
                    <span class="code-line">data_quality_report <span class="operator">&lt;-</span> cleaned_data <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">summarise</span>(</span>
                    <span class="code-line">    total_rows <span class="operator">=</span> <span class="function">n</span>(),</span>
                    <span class="code-line">    complete_rows <span class="operator">=</span> <span class="function">sum</span>(<span class="function">complete.cases</span>(.)),</span>
                    <span class="code-line">    missing_age <span class="operator">=</span> <span class="function">sum</span>(<span class="function">is.na</span>(age)),</span>
                    <span class="code-line">    missing_salary <span class="operator">=</span> <span class="function">sum</span>(<span class="function">is.na</span>(salary)),</span>
                    <span class="code-line">    missing_date <span class="operator">=</span> <span class="function">sum</span>(<span class="function">is.na</span>(join_date)),</span>
                    <span class="code-line">    data_completeness <span class="operator">=</span> <span class="function">round</span>(complete_rows / total_rows <span class="operator">*</span> <span class="number">100</span>, <span class="number">1</span>)</span>
                    <span class="code-line">  )</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(data_quality_report)</span>
</div>
            </div>

            <div class="output-container">
                <div class="output-header">ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµæœ</div>
                <div class="output-content"># A tibble: 5 Ã— 5
     id name         age salary join_date 
  &lt;int&gt; &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;date&gt;    
1     1 ç”°ä¸­å¤ªéƒ      25 400000 2020-04-01
2     2 ä½è—¤èŠ±å­      NA 550000 2019-08-15
3     3 éˆ´æœ¨ä¸€éƒ      28     NA 2021-01-10
4     4 é«˜æ©‹ç¾å’²      24 420000 NA        
5     5 å±±ç”°å¥å¤ª      35 600000 2018-11-20

# A tibble: 1 Ã— 7
  total_rows complete_rows missing_age missing_salary missing_date data_completeness
       &lt;int&gt;         &lt;int&gt;       &lt;int&gt;          &lt;int&gt;        &lt;int&gt;             &lt;dbl&gt;
1          5             3           1              1            1              60</div>
            </div>
        </section>

        <section class="section">
            <h2>ğŸ“ˆ å®Ÿè·µçš„ãªãƒ‡ãƒ¼ã‚¿åˆ†æãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</h2>

            <h3>å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®åŒ…æ‹¬çš„åˆ†æ</h3>

            <div class="code-container">
                <div class="code-header">è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®çµåˆã¨åˆ†æ</div>
                <div class="code-content">
                    <span class="code-line"><span class="comment"># åœ°åŸŸåˆ¥å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</span></span>
                    <span class="code-line">regions <span class="operator">&lt;-</span> <span class="function">c</span>(<span class="string">"æ±äº¬"</span>, <span class="string">"å¤§é˜ª"</span>, <span class="string">"åå¤å±‹"</span>, <span class="string">"ç¦å²¡"</span>)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="keyword">for</span> (region <span class="keyword">in</span> regions) {</span>
                    <span class="code-line">  region_data <span class="operator">&lt;-</span> <span class="function">tibble</span>(</span>
                    <span class="code-line">    region <span class="operator">=</span> region,</span>
                    <span class="code-line">    store_id <span class="operator">=</span> <span class="number">1</span>:<span class="number">5</span>,</span>
                    <span class="code-line">    store_name <span class="operator">=</span> <span class="function">paste0</span>(region, <span class="string">"åº—"</span>, <span class="function">sprintf</span>(<span class="string">"%02d"</span>, <span class="number">1</span>:<span class="number">5</span>)),</span>
                    <span class="code-line">    monthly_sales <span class="operator">=</span> <span class="function">sample</span>(<span class="number">1000000</span>:<span class="number">5000000</span>, <span class="number">5</span>),</span>
                    <span class="code-line">    customer_count <span class="operator">=</span> <span class="function">sample</span>(<span class="number">500</span>:<span class="number">2000</span>, <span class="number">5</span>),</span>
                    <span class="code-line">    avg_purchase <span class="operator">=</span> <span class="function">round</span>(monthly_sales / customer_count, <span class="number">0</span>)</span>
                    <span class="code-line">  )</span>
                    <span class="code-line"></span>
                    <span class="code-line">  <span class="function">write_csv</span>(</span>
                    <span class="code-line">    region_data,</span>
                    <span class="code-line">    <span class="function">paste0</span>(<span class="string">"sales_"</span>, region, <span class="string">".csv"</span>)</span>
                    <span class="code-line">  )</span>
                    <span class="code-line">}</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># å…¨åœ°åŸŸã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§çµåˆ</span></span>
                    <span class="code-line">all_sales_data <span class="operator">&lt;-</span> <span class="function">map_dfr</span>(</span>
                    <span class="code-line">  regions,</span>
                    <span class="code-line">  ~ <span class="function">read_csv</span>(</span>
                    <span class="code-line">    <span class="function">paste0</span>(<span class="string">"sales_"</span>, .x, <span class="string">".csv"</span>),</span>
                    <span class="code-line">    show_col_types <span class="operator">=</span> <span class="variable">FALSE</span></span>
                    <span class="code-line">  )</span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(<span class="function">head</span>(all_sales_data, <span class="number">10</span>))</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># åœ°åŸŸåˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ</span></span>
                    <span class="code-line">regional_analysis <span class="operator">&lt;-</span> all_sales_data <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">group_by</span>(region) <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">summarise</span>(</span>
                    <span class="code-line">    store_count <span class="operator">=</span> <span class="function">n</span>(),</span>
                    <span class="code-line">    total_sales <span class="operator">=</span> <span class="function">sum</span>(monthly_sales),</span>
                    <span class="code-line">    avg_sales_per_store <span class="operator">=</span> <span class="function">mean</span>(monthly_sales),</span>
                    <span class="code-line">    total_customers <span class="operator">=</span> <span class="function">sum</span>(customer_count),</span>
                    <span class="code-line">    avg_customers_per_store <span class="operator">=</span> <span class="function">mean</span>(customer_count),</span>
                    <span class="code-line">    overall_avg_purchase <span class="operator">=</span> total_sales / total_customers,</span>
                    <span class="code-line">    .groups <span class="operator">=</span> <span class="string">'drop'</span></span>
                    <span class="code-line">  ) <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">arrange</span>(<span class="function">desc</span>(total_sales))</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(regional_analysis)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒˆãƒƒãƒ—ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åº—èˆ—ã®ç‰¹å®š</span></span>
                    <span class="code-line">top_stores <span class="operator">&lt;-</span> all_sales_data <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">arrange</span>(<span class="function">desc</span>(monthly_sales)) <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">head</span>(<span class="number">5</span>) <span class="operator">%&gt;%</span></span>
                    <span class="code-line">  <span class="function">mutate</span>(</span>
                    <span class="code-line">    sales_rank <span class="operator">=</span> <span class="function">row_number</span>(),</span>
                    <span class="code-line">    performance_score <span class="operator">=</span> <span class="function">round</span>(</span>
                    <span class="code-line">      (monthly_sales / <span class="function">max</span>(monthly_sales) <span class="operator">*</span> <span class="number">0.6</span>) <span class="operator">+</span></span>
                    <span class="code-line">      (customer_count / <span class="function">max</span>(customer_count) <span class="operator">*</span> <span class="number">0.4</span>),</span>
                    <span class="code-line">      <span class="number">3</span></span>
                    <span class="code-line">    )</span>
                    <span class="code-line">  )</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">print</span>(top_stores)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="comment"># ãƒ‡ãƒ¼ã‚¿ã®æ›¸ãå‡ºã—</span></span>
                    <span class="code-line"><span class="function">write_csv</span>(</span>
                    <span class="code-line">  regional_analysis,</span>
                    <span class="code-line">  <span class="string">"regional_analysis_summary.csv"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"><span class="function">write_csv</span>(</span>
                    <span class="code-line">  top_stores,</span>
                    <span class="code-line">  <span class="string">"top_performing_stores.csv"</span></span>
                    <span class="code-line">)</span>
                    <span class="code-line"></span>
                    <span class="code-line"><span class="function">cat</span>(<span class="string">"åˆ†æå®Œäº†ï¼çµæœãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚\n"</span>)</span>
</div>
            </div>

            <div class="output-container">
                <div class="output-header">çµ±åˆåˆ†æçµæœ</div>
                <div class="output-content"># A tibble: 10 Ã— 6
   region store_id store_name monthly_sales customer_count avg_purchase
   &lt;chr&gt;     &lt;int&gt; &lt;chr&gt;              &lt;int&gt;          &lt;int&gt;        &lt;dbl&gt;
 1 æ±äº¬          1 æ±äº¬åº—01         3847521           1456         2643
 2 æ±äº¬          2 æ±äº¬åº—02         1582947           1123         1410
 3 æ±äº¬          3 æ±äº¬åº—03         2156984            987         2185
 4 æ±äº¬          4 æ±äº¬åº—04         4234567           1876         2257
 5 æ±äº¬          5 æ±äº¬åº—05         3178945           1345         2364
 6 å¤§é˜ª          1 å¤§é˜ªåº—01         2891234           1234         2344
 7 å¤§é˜ª          2 å¤§é˜ªåº—02         1756789           1098         1600
 8 å¤§é˜ª          3 å¤§é˜ªåº—03         3456123           1567         2205
 9 å¤§é˜ª          4 å¤§é˜ªåº—04         2876543           1345         2138
10 å¤§é˜ª          5 å¤§é˜ªåº—05         4123456           1789         2305

# A tibble: 4 Ã— 7
  region store_count total_sales avg_sales_per_store total_customers avg_customers_per_store overall_avg_purchase
  &lt;chr&gt;        &lt;int&gt;       &lt;int&gt;               &lt;dbl&gt;           &lt;int&gt;                   &lt;dbl&gt;                &lt;dbl&gt;
1 æ±äº¬             5    15000964            3000193            6787                1357.                 2211.
2 å¤§é˜ª             5    15104145            3020829            7033                1407.                 2147.
3 åå¤å±‹           5    14876543            2975309            6895                1379.                 2158.
4 ç¦å²¡             5    14234567            2846913            6534                1307.                 2178.

åˆ†æå®Œäº†ï¼çµæœãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚</div>
            </div>

            <div class="data-table">
                <table>
                    <thead>
                        <tr>
                            <th>ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼</th>
                            <th>readré–¢æ•°</th>
                            <th>ç‰¹å¾´</th>
                            <th>ç”¨é€”</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CSV</td>
                            <td>read_csv()</td>
                            <td>ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€é«˜é€Ÿ</td>
                            <td>ä¸€èˆ¬çš„ãªãƒ‡ãƒ¼ã‚¿äº¤æ›</td>
                        </tr>
                        <tr>
                            <td>TSV</td>
                            <td>read_tsv()</td>
                            <td>ã‚¿ãƒ–åŒºåˆ‡ã‚Š</td>
                            <td>ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿</td>
                        </tr>
                        <tr>
                            <td>å›ºå®šå¹…</td>
                            <td>read_fwf()</td>
                            <td>å¹…æŒ‡å®š</td>
                            <td>ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ </td>
                        </tr>
                        <tr>
                            <td>åŒºåˆ‡ã‚Šæ–‡å­—æŒ‡å®š</td>
                            <td>read_delim()</td>
                            <td>ä»»æ„ã®åŒºåˆ‡ã‚Šæ–‡å­—</td>
                            <td>ã‚«ã‚¹ã‚¿ãƒ å½¢å¼</td>
                        </tr>
                        <tr>
                            <td>ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«</td>
                            <td>read_lines()</td>
                            <td>è¡Œå˜ä½èª­ã¿è¾¼ã¿</td>
                            <td>ãƒ†ã‚­ã‚¹ãƒˆå‡¦ç†</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <div class="key-points">
            <h4>ç¬¬8ç« ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h4>
            <ul>
                <li><strong>é«˜é€Ÿèª­ã¿è¾¼ã¿</strong>ï¼šreadrã¯base Rã‚ˆã‚Š10å€é«˜é€Ÿãªãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿</li>
                <li><strong>è‡ªå‹•å‹æ¨æ¸¬</strong>ï¼šãƒ‡ãƒ¼ã‚¿å‹ã‚’è‡ªå‹•çš„ã«åˆ¤åˆ¥ã—ã€é©åˆ‡ã«å¤‰æ›</li>
                <li><strong>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</strong>ï¼šå•é¡Œã®ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’é©åˆ‡ã«å‡¦ç†</li>
                <li><strong>å¤šæ§˜ãªå½¢å¼å¯¾å¿œ</strong>ï¼šCSVã€TSVã€å›ºå®šå¹…ãªã©æ§˜ã€…ãªå½¢å¼ã‚’ã‚µãƒãƒ¼ãƒˆ</li>
                <li><strong>å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†</strong>ï¼šãƒãƒ£ãƒ³ã‚¯èª­ã¿è¾¼ã¿ã§åŠ¹ç‡çš„ã«ãƒ¡ãƒ¢ãƒªä½¿ç”¨</li>
                <li><strong>Unicodeå¯¾å¿œ</strong>ï¼šUTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«ã‚ˆã‚‹å›½éš›åŒ–å¯¾å¿œ</li>
            </ul>
        </div>

        <div class="tip-box">
            <h4>å®Ÿè·µçš„ã‚¢ãƒ‰ãƒã‚¤ã‚¹</h4>
            <p>readrã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èµ·ç‚¹ã¨ãªã‚‹é‡è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ã®åŠ¹ç‡çš„ãªèª­ã¿è¾¼ã¿ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒ‡ãƒ¼ã‚¿å“è³ªã®ç¢ºä¿ãªã©ã€å®Ÿå‹™ã§æ¬ ã‹ã›ãªã„æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚ç‰¹ã«ã€col_typeså¼•æ•°ã‚’ä½¿ã£ãŸå‹æŒ‡å®šã‚„ã€éƒ¨åˆ†èª­ã¿è¾¼ã¿æ©Ÿèƒ½ã¯ã€å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã«ãŠã„ã¦å¨åŠ›ã‚’ç™ºæ®ã—ã¾ã™ã€‚</p>
        </div>


    <!-- å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã¨ETLãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ -->
    <section class="advanced-section" style="margin: 4rem 0; padding: 3rem; background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 212, 255, 0.1) 100%); border: 1px solid var(--accent-neon); border-radius: 20px; box-shadow: var(--shadow-neon);">
        <div class="container">
            <h2 style="color: var(--accent-neon); font-size: 2.5rem; margin-bottom: 2rem; text-align: center; text-shadow: 0 0 20px var(--accent-neon);">
                ğŸš€ å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã¨ETLãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
            </h2>
            
            <div style="background: var(--bg-secondary); padding: 2rem; border-radius: 15px; margin-bottom: 2rem; border-left: 5px solid var(--accent-cyan);">
                <p style="font-size: 1.1rem; color: var(--text-primary); line-height: 1.8;">
                    ç¾ä»£ã®ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã§ã¯ã€<strong>ãƒ¡ãƒ¢ãƒªã«åã¾ã‚‰ãªã„å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿</strong>ã‚„<strong>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ </strong>ã®å‡¦ç†ãŒæ—¥å¸¸çš„ã«å¿…è¦ã§ã™ã€‚æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€readrã®é«˜åº¦ãªæ©Ÿèƒ½ã‚’æ´»ç”¨ã—ãŸåŠ¹ç‡çš„ãªETLï¼ˆExtract, Transform, Loadï¼‰ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ§‹ç¯‰æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚
                </p>
            </div>

            <!-- å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†æˆ¦ç•¥ -->
            <div style="margin: 3rem 0;">
                <h3 style="color: var(--accent-cyan); font-size: 1.8rem; margin-bottom: 1.5rem; display: flex; align-items: center;">
                    <span style="font-size: 2rem; margin-right: 0.5rem;">ğŸ’¾</span>
                    å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†æˆ¦ç•¥
                </h3>
                
                <div style="background: var(--bg-tertiary); padding: 2rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: var(--accent-neon); margin-bottom: 1rem;">1. ãƒãƒ£ãƒ³ã‚¯èª­ã¿è¾¼ã¿ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–</h4>
                    <div style="background: #1a1a1a; padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-neon); font-family: 'JetBrains Mono', monospace; overflow-x: auto;">
<pre style="color: #f8f8f2; margin: 0;"><code># å¤§å®¹é‡CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ£ãƒ³ã‚¯ã”ã¨ã«å‡¦ç†
library(readr)
library(dplyr)

# ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºè¨­å®šï¼ˆ10ä¸‡è¡Œãšã¤ï¼‰
chunk_size <- 100000

# å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†é–¢æ•°
process_large_file <- function(file_path, chunk_size = 100000) {
  # ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã®è¡Œæ•°ã‚’äº‹å‰è¨ˆç®—
  total_lines <- count_lines(file_path)
  n_chunks <- ceiling(total_lines / chunk_size)
  
  cat("ç·è¡Œæ•°:", total_lines, "ãƒãƒ£ãƒ³ã‚¯æ•°:", n_chunks, "\n")
  
  # çµæœæ ¼ç´ç”¨ãƒªã‚¹ãƒˆ
  results <- list()
  
  # ãƒãƒ£ãƒ³ã‚¯ã”ã¨ã«å‡¦ç†
  for (i in seq_len(n_chunks)) {
    skip_lines <- (i - 1) * chunk_size
    
    # ãƒãƒ£ãƒ³ã‚¯èª­ã¿è¾¼ã¿
    chunk <- read_csv(
      file_path,
      skip = skip_lines,
      n_max = chunk_size,
      col_types = cols(),
      show_col_types = FALSE
    )
    
    # ãƒ‡ãƒ¼ã‚¿å‡¦ç†ï¼ˆä¾‹ï¼šå£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®é›†è¨ˆï¼‰
    processed_chunk <- chunk %>%
      filter(!is.na(sales_amount)) %>%
      group_by(region, date) %>%
      summarise(
        total_sales = sum(sales_amount),
        avg_sales = mean(sales_amount),
        customer_count = n_distinct(customer_id),
        .groups = "drop"
      )
    
    results[[i]] <- processed_chunk
    cat("ãƒãƒ£ãƒ³ã‚¯", i, "å‡¦ç†å®Œäº†\n")
  }
  
  # å…¨ãƒãƒ£ãƒ³ã‚¯ã®çµæœã‚’çµ±åˆ
  bind_rows(results)
}</code></pre>
                    </div>
                </div>

                <div style="background: var(--bg-tertiary); padding: 2rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: var(--accent-neon); margin-bottom: 1rem;">2. ä¸¦åˆ—å‡¦ç†ã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š</h4>
                    <div style="background: #1a1a1a; padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-purple); font-family: 'JetBrains Mono', monospace; overflow-x: auto;">
<pre style="color: #f8f8f2; margin: 0;"><code># future + furrr ã«ã‚ˆã‚‹ä¸¦åˆ—ãƒãƒ£ãƒ³ã‚¯å‡¦ç†
library(future)
library(furrr)

# ä¸¦åˆ—å‡¦ç†ç’°å¢ƒã®è¨­å®š
plan(multisession, workers = 4)

# ä¸¦åˆ—ãƒãƒ£ãƒ³ã‚¯å‡¦ç†é–¢æ•°
parallel_chunk_processing <- function(file_path, chunk_size = 50000) {
  total_lines <- count_lines(file_path)
  n_chunks <- ceiling(total_lines / chunk_size)
  
  # ãƒãƒ£ãƒ³ã‚¯æƒ…å ±ã®ãƒªã‚¹ãƒˆä½œæˆ
  chunk_info <- tibble(
    chunk_id = seq_len(n_chunks),
    skip_lines = (chunk_id - 1) * chunk_size,
    n_max = ifelse(chunk_id == n_chunks, 
                   total_lines - skip_lines, 
                   chunk_size)
  )
  
  # ä¸¦åˆ—ã§ãƒãƒ£ãƒ³ã‚¯å‡¦ç†
  results <- chunk_info %>%
    future_pmap_dfr(function(chunk_id, skip_lines, n_max) {
      # å„ãƒ¯ãƒ¼ã‚«ãƒ¼ã§readãªã—ãƒãƒƒãƒ•ã‚¡å‡¦ç†
      chunk <- read_csv(
        file_path,
        skip = skip_lines,
        n_max = n_max,
        col_types = cols(
          customer_id = col_character(),
          sales_amount = col_double(),
          region = col_factor(),
          date = col_date()
        ),
        locale = locale(encoding = "UTF-8")
      )
      
      # é«˜é€Ÿãƒ‡ãƒ¼ã‚¿å¤‰æ›
      chunk %>%
        filter(sales_amount > 0) %>%
        mutate(
          sales_category = case_when(
            sales_amount >= 10000 ~ "high",
            sales_amount >= 5000 ~ "medium",
            TRUE ~ "low"
          ),
          quarter = paste0("Q", quarter(date))
        ) %>%
        group_by(region, quarter, sales_category) %>%
        summarise(
          revenue = sum(sales_amount),
          transactions = n(),
          avg_transaction = mean(sales_amount),
          .groups = "drop"
        )
    }, .progress = TRUE)
  
  results
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- ETLãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰ -->
            <div style="margin: 3rem 0;">
                <h3 style="color: var(--accent-cyan); font-size: 1.8rem; margin-bottom: 1.5rem; display: flex; align-items: center;">
                    <span style="font-size: 2rem; margin-right: 0.5rem;">ğŸ”„</span>
                    ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ETLãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
                </h3>

                <div style="background: var(--bg-tertiary); padding: 2rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: var(--accent-neon); margin-bottom: 1rem;">1. ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚¯ä»˜ãETLãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³</h4>
                    <div style="background: #1a1a1a; padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-cyan); font-family: 'JetBrains Mono', monospace; overflow-x: auto;">
<pre style="color: #f8f8f2; margin: 0;"><code># åŒ…æ‹¬çš„ETLãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
library(readr)
library(dplyr)
library(lubridate)
library(logger)

# ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚¯é–¢æ•°
validate_data_quality <- function(data, spec) {
  issues <- list()
  
  # å¿…é ˆåˆ—ã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯
  missing_cols <- setdiff(spec$required_columns, names(data))
  if (length(missing_cols) > 0) {
    issues$missing_columns <- missing_cols
  }
  
  # ãƒ‡ãƒ¼ã‚¿å‹ãƒã‚§ãƒƒã‚¯
  for (col in names(spec$column_types)) {
    if (col %in% names(data)) {
      expected_type <- spec$column_types[[col]]
      actual_type <- class(data[[col]])[1]
      if (actual_type != expected_type) {
        issues$type_mismatch <- c(issues$type_mismatch, 
                                 paste(col, ":", expected_type, "expected, got", actual_type))
      }
    }
  }
  
  # æ¬ æå€¤ãƒã‚§ãƒƒã‚¯
  na_counts <- data %>%
    summarise(across(everything(), ~sum(is.na(.))))
  high_na_cols <- na_counts %>%
    select_if(~. > nrow(data) * 0.5) %>%
    names()
  if (length(high_na_cols) > 0) {
    issues$high_na_columns <- high_na_cols
  }
  
  list(valid = length(issues) == 0, issues = issues)
}

# å …ç‰¢ãªETLé–¢æ•°
robust_etl_pipeline <- function(input_path, output_path, data_spec) {
  # ãƒ­ã‚°è¨­å®š
  log_info("ETLé–‹å§‹: {input_path}")
  
  tryCatch({
    # EXTRACT: ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
    log_info("ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿é–‹å§‹")
    raw_data <- read_csv(
      input_path,
      col_types = cols(),
      locale = locale(encoding = "UTF-8", date_format = "%Y-%m-%d"),
      na = c("", "NA", "NULL", "N/A", "#N/A")
    )
    log_info("èª­ã¿è¾¼ã¿å®Œäº†: {nrow(raw_data)}è¡Œ")
    
    # ãƒ‡ãƒ¼ã‚¿å“è³ªæ¤œè¨¼
    validation <- validate_data_quality(raw_data, data_spec)
    if (!validation$valid) {
      log_error("ãƒ‡ãƒ¼ã‚¿å“è³ªå•é¡Œ: {validation$issues}")
      stop("Data quality issues detected")
    }
    
    # TRANSFORM: ãƒ‡ãƒ¼ã‚¿å¤‰æ›
    log_info("ãƒ‡ãƒ¼ã‚¿å¤‰æ›é–‹å§‹")
    cleaned_data <- raw_data %>%
      # é‡è¤‡é™¤å»
      distinct() %>%
      # æ—¥ä»˜å‹å¤‰æ›
      mutate(
        across(contains("date"), ~as.Date(.)),
        across(contains("amount"), ~as.numeric(.)),
        across(where(is.character), ~str_trim(.))
      ) %>%
      # å¤–ã‚Œå€¤å‡¦ç†
      filter(
        if_any(contains("amount"), ~between(., 
                                          quantile(., 0.01, na.rm = TRUE),
                                          quantile(., 0.99, na.rm = TRUE)))
      ) %>%
      # ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«é©ç”¨
      filter(
        !is.na(customer_id),
        sales_amount > 0,
        date >= as.Date("2020-01-01")
      )
    
    log_info("å¤‰æ›å®Œäº†: {nrow(cleaned_data)}è¡Œ")
    
    # LOAD: ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›
    log_info("ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›é–‹å§‹")
    write_csv(
      cleaned_data,
      output_path,
      na = "",
      quote = "needed"
    )
    
    log_info("ETLå®Œäº†: {output_path}")
    
    # å‡¦ç†ã‚µãƒãƒªãƒ¼
    summary <- list(
      input_rows = nrow(raw_data),
      output_rows = nrow(cleaned_data),
      data_quality = validation,
      processing_time = Sys.time()
    )
    
    return(summary)
    
  }, error = function(e) {
    log_error("ETLå¤±æ•—: {e$message}")
    stop(e)
  })
}</code></pre>
                    </div>
                </div>

                <div style="background: var(--bg-tertiary); padding: 2rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: var(--accent-neon); margin-bottom: 1rem;">2. ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿å‡¦ç†</h4>
                    <div style="background: #1a1a1a; padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-red); font-family: 'JetBrains Mono', monospace; overflow-x: auto;">
<pre style="color: #f8f8f2; margin: 0;"><code># ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ å‡¦ç†
library(readr)
library(dplyr)
library(later)

# ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†ã‚¯ãƒ©ã‚¹
streaming_processor <- function(input_dir, output_dir, processing_func) {
  # å‡¦ç†çŠ¶æ…‹ç®¡ç†
  state <- list(
    processed_files = character(),
    error_count = 0,
    last_processed = Sys.time()
  )
  
  # ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã¨å‡¦ç†
  process_new_files <- function() {
    # æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
    current_files <- list.files(
      input_dir, 
      pattern = "\\.csv$", 
      full.names = TRUE
    )
    
    new_files <- setdiff(current_files, state$processed_files)
    
    if (length(new_files) > 0) {
      cat("æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ç™ºè¦‹:", length(new_files), "ä»¶\n")
      
      # å„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†
      for (file in new_files) {
        tryCatch({
          # ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
          data <- read_csv(
            file,
            col_types = cols(),
            show_col_types = FALSE
          )
          
          # ã‚«ã‚¹ã‚¿ãƒ å‡¦ç†é©ç”¨
          processed_data <- processing_func(data)
          
          # å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆ
          output_file <- file.path(
            output_dir,
            paste0("processed_", basename(file))
          )
          
          # å‡¦ç†æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›
          write_csv(processed_data, output_file)
          
          # å‡¦ç†å®Œäº†è¨˜éŒ²
          state$processed_files <- c(state$processed_files, file)
          state$last_processed <- Sys.time()
          
          cat("å‡¦ç†å®Œäº†:", basename(file), "\n")
          
        }, error = function(e) {
          cat("ã‚¨ãƒ©ãƒ¼:", basename(file), "-", e$message, "\n")
          state$error_count <- state$error_count + 1
        })
      }
    }
    
    # æ¬¡ã®ç›£è¦–ã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ5ç§’å¾Œï¼‰
    later::later(process_new_files, 5)
  }
  
  # ç›£è¦–é–‹å§‹
  process_new_files()
  
  # åˆ¶å¾¡é–¢æ•°ã‚’è¿”ã™
  list(
    get_state = function() state,
    stop = function() {
      cat("ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†åœæ­¢\n")
    }
  )
}

# ä½¿ç”¨ä¾‹ï¼šå£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®é›†è¨ˆå‡¦ç†
sales_aggregation <- function(data) {
  data %>%
    group_by(date = as.Date(timestamp), product_category) %>%
    summarise(
      total_sales = sum(amount, na.rm = TRUE),
      transaction_count = n(),
      unique_customers = n_distinct(customer_id),
      .groups = "drop"
    ) %>%
    mutate(avg_transaction_value = total_sales / transaction_count)
}

# ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†é–‹å§‹
# processor <- streaming_processor(
#   input_dir = "data/incoming/",
#   output_dir = "data/processed/",
#   processing_func = sales_aggregation
# )</code></pre>
                    </div>
                </div>
            </div>

            <!-- å®Ÿè·µçš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– -->
            <div style="margin: 3rem 0;">
                <h3 style="color: var(--accent-cyan); font-size: 1.8rem; margin-bottom: 1.5rem; display: flex; align-items: center;">
                    <span style="font-size: 2rem; margin-right: 0.5rem;">âš¡</span>
                    ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯
                </h3>
                
                <div style="background: var(--bg-tertiary); padding: 2rem; border-radius: 10px;">
                    <div style="background: #1a1a1a; padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-neon); font-family: 'JetBrains Mono', monospace; overflow-x: auto;">
<pre style="color: #f8f8f2; margin: 0;"><code># é«˜æ€§èƒ½ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿è¨­å®š
optimized_read_settings <- function() {
  list(
    # ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡æœ€å°åŒ–
    lazy = TRUE,
    
    # ä¸¦åˆ—å‡¦ç†æœ€é©åŒ–
    num_threads = parallel::detectCores() - 1,
    
    # IOæœ€é©åŒ–
    buffer_size = 1024 * 1024,  # 1MB ãƒãƒƒãƒ•ã‚¡
    
    # å‹æ¨è«–æœ€é©åŒ–
    guess_max = 10000,
    
    # ãƒ­ã‚±ãƒ¼ãƒ«æœ€é©åŒ–
    locale = locale(
      encoding = "UTF-8",
      decimal_mark = ".",
      grouping_mark = ",",
      date_format = "%Y-%m-%d",
      datetime_format = "%Y-%m-%d %H:%M:%S"
    )
  )
}

# ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯æ¸¬å®šé–¢æ•°
benchmark_reading_methods <- function(file_path) {
  library(microbenchmark)
  
  # å„ç¨®èª­ã¿è¾¼ã¿æ–¹æ³•ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
  results <- microbenchmark(
    # åŸºæœ¬è¨­å®š
    basic = read_csv(file_path),
    
    # å‹æŒ‡å®šæ¸ˆã¿
    typed = read_csv(
      file_path,
      col_types = cols(
        id = col_character(),
        value = col_double(),
        date = col_date()
      )
    ),
    
    # æœ€é©åŒ–è¨­å®š
    optimized = read_csv(
      file_path,
      col_types = cols(),
      guess_max = 10000,
      locale = locale(encoding = "UTF-8")
    ),
    
    times = 10
  )
  
  print(results)
  autoplot(results)
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- å®Ÿç”¨çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ -->
            <div style="background: var(--bg-secondary); padding: 2rem; border-radius: 15px; margin: 2rem 0; border: 2px solid var(--accent-purple);">
                <h4 style="color: var(--accent-purple); font-size: 1.5rem; margin-bottom: 1rem; display: flex; align-items: center;">
                    <span style="font-size: 1.8rem; margin-right: 0.5rem;">ğŸ’¡</span>
                    å®Ÿè·µçš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹
                </h4>
                <ul style="color: var(--text-primary); padding-left: 1.5rem;">
                    <li style="margin: 0.8rem 0;"><strong>ãƒ¡ãƒ¢ãƒªç®¡ç†:</strong> ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ¢ãƒªã®70%ä»¥ä¸‹ã«åã¾ã‚‹ã‚ˆã†ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºã‚’èª¿æ•´</li>
                    <li style="margin: 0.8rem 0;"><strong>å‹æŒ‡å®š:</strong> å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯å¿…ãšäº‹å‰ã«åˆ—å‹ã‚’æŒ‡å®šã—ã¦guesså‡¦ç†ã‚’å›é¿</li>
                    <li style="margin: 0.8rem 0;"><strong>ä¸¦åˆ—å‡¦ç†:</strong> CPUã‚³ã‚¢æ•°-1ã‚’ä¸¦åˆ—åº¦ã¨ã—ã¦è¨­å®šï¼ˆã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ç¢ºä¿ï¼‰</li>
                    <li style="margin: 0.8rem 0;"><strong>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°:</strong> ãƒãƒ£ãƒ³ã‚¯ã”ã¨ã®å‡¦ç†ã§ã¯å€‹åˆ¥ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å®Ÿè£…</li>
                    <li style="margin: 0.8rem 0;"><strong>é€²æ—ç›£è¦–:</strong> é•·æ™‚é–“å‡¦ç†ã§ã¯é€²æ—è¡¨ç¤ºã¨ãƒ­ã‚°å‡ºåŠ›ã‚’å¿…ãšå®Ÿè£…</li>
                    <li style="margin: 0.8rem 0;"><strong>å“è³ªä¿è¨¼:</strong> å„ã‚¹ãƒ†ãƒƒãƒ—ã§ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚¯ã‚’å®Ÿæ–½</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- å­¦ç¿’ã«ãŠã™ã™ã‚ã®æ›¸ç± -->
    <section class="book-recommendations" style="margin: 4rem 0; padding: 2rem; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 20px; backdrop-filter: blur(10px);">
        <div class="container">
            <h3 style="color: var(--neon-cyan); font-family: var(--font-tech); font-size: 1.8rem; margin-bottom: 2rem; text-align: center;">
                ğŸ“š å­¦ç¿’ã«ãŠã™ã™ã‚ã®æ›¸ç±
            </h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem;">
                
                <!-- Book 1 -->
                <div class="book-card" style="background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 15px; padding: 1.5rem; transition: all 0.3s ease; position: relative; overflow: hidden;">
                    
                </div>
                
                <!-- Book 2 -->
                <div class="book-card" style="background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 15px; padding: 1.5rem; transition: all 0.3s ease; position: relative; overflow: hidden;">
                    
                </div>
                
            </div>
            
            <div style="text-align: center; margin-top: 2rem;">
                <p style="color: rgba(255, 255, 255, 0.6); font-size: 0.9rem; font-style: italic;">
                    <!-- AdSenseå¯©æŸ»ä¸­ã®ãŸã‚ä¸€æ™‚çš„ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ: â€» å½“ã‚µã‚¤ãƒˆã¯Amazonã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«å‚åŠ ã—ã¦ã„ã¾ã™ -->
                </p>
            </div>
        </div>
    </section>

    <!-- Chapter Navigation -->
    <nav style="margin: 4rem 0; display: flex; justify-content: space-between; align-items: center; padding: 2rem; background: var(--bg-secondary); border-radius: 15px; max-width: 1200px; margin-left: auto; margin-right: auto;">
        <a href="chapter7-lubridate-datetime.html" style="padding: 12px 24px; background: var(--accent-red); color: var(--text-primary); text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 0 10px rgba(255, 107, 107, 0.4);">â† ç¬¬7ç« : lubridate</a>
        <a href="index.html" style="padding: 12px 24px; background: var(--accent-cyan); color: var(--bg-primary); text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 0 10px rgba(0, 212, 255, 0.4);">ç›®æ¬¡ã¸æˆ»ã‚‹</a>
        <a href="chapter9-tibble-modern-dataframe.html" style="padding: 12px 24px; background: var(--accent-red); color: var(--text-primary); text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 0 10px rgba(255, 107, 107, 0.4);">ç¬¬9ç« : Tibbleã¨ãƒ¢ãƒ€ãƒ³ãªãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ  â†’</a>
    </nav>
    
    <style>
    .book-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        border-color: var(--neon-cyan);
    }

    .book-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.5s ease;
    }

    .book-card:hover::before {
        left: 100%;
    }
    </style>

    </div>
</body>
</html>