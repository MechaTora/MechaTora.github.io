<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬13ç« : é«˜åº¦ãªggplot2ã¨ã‚«ã‚¹ã‚¿ãƒ å¯è¦–åŒ– | Tidyverseå®Œå…¨ãƒã‚¹ã‚¿ãƒ¼</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #2a2a2a;
            --accent-neon: #00ff88;
            --accent-cyan: #00d4ff;
            --accent-purple: #9d4edd;
            --accent-pink: #ff006e;
            --accent-orange: #fb8500;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --border-neon: #00ff88;
            --shadow-neon: 0 0 20px #00ff8840;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
            line-height: 1.8;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(45deg, var(--bg-secondary), var(--bg-tertiary));
            border-radius: 20px;
            border: 2px solid var(--accent-pink);
            box-shadow: 0 0 20px rgba(255, 0, 110, 0.4);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 0, 110, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            color: var(--accent-pink);
            margin-bottom: 10px;
            text-shadow: 0 0 20px var(--accent-pink);
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 1.4rem;
            color: var(--accent-cyan);
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .chapter-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            position: relative;
            z-index: 1;
        }

        .progress-indicator {
            display: flex;
            justify-content: center;
            gap: 3px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .progress-dot {
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            border: 1px solid var(--text-secondary);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: var(--accent-pink);
            border-color: var(--accent-pink);
            box-shadow: 0 0 5px var(--accent-pink);
        }

        .progress-dot.completed {
            background: var(--accent-cyan);
            border-color: var(--accent-cyan);
        }

        /* Navigation Widget */
        .chapter-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 3px;
            margin: 30px 0;
            padding: 6px;
            background: var(--bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--accent-pink);
            width: fit-content;
            max-width: 90vw;
            margin-left: auto;
            margin-right: auto;
            flex-wrap: wrap;
        }

        .nav-button {
            padding: 1px 5px;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            text-decoration: none;
            border-radius: 2px;
            border: 1px solid var(--accent-cyan);
            transition: all 0.3s ease;
            font-size: 0.65rem;
            white-space: nowrap;
        }

        .nav-button:hover {
            background: var(--accent-cyan);
            color: var(--bg-primary);
            box-shadow: 0 0 6px var(--accent-cyan);
        }

        .nav-button.current {
            background: var(--accent-pink);
            color: var(--bg-primary);
            box-shadow: 0 0 6px var(--accent-pink);
        }

        /* Content Sections */
        .section {
            background: var(--bg-secondary);
            margin: 30px 0;
            padding: 30px;
            border-radius: 15px;
            border: 1px solid var(--accent-purple);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-pink), var(--accent-cyan), var(--accent-purple));
            border-radius: 15px 15px 0 0;
        }

        h2 {
            color: var(--accent-pink);
            font-size: 2rem;
            margin-bottom: 20px;
            text-shadow: 0 0 10px var(--accent-pink);
        }

        h3 {
            color: var(--accent-cyan);
            font-size: 1.5rem;
            margin: 25px 0 15px 0;
            text-shadow: 0 0 8px var(--accent-cyan);
        }

        h4 {
            color: var(--accent-purple);
            font-size: 1.2rem;
            margin: 20px 0 10px 0;
        }

        /* Code Blocks */
        .code-container {
            margin: 20px 0;
            background: #1a1a1a;
            border-radius: 10px;
            border: 1px solid var(--accent-pink);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(255, 0, 110, 0.1);
        }

        .code-header {
            background: var(--accent-pink);
            color: var(--bg-primary);
            padding: 10px 20px;
            font-weight: bold;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .code-header::before {
            content: 'ğŸ¨';
            font-size: 1.1rem;
        }

        .code-content {
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            background: #0d1117;
            color: #c9d1d9;
            overflow-x: auto;
        }

        /* Syntax highlighting */
        .keyword { color: #ff7b72; }
        .function { color: #d2a8ff; }
        .string { color: #a5d6ff; }
        .comment { color: #8b949e; font-style: italic; }
        .operator { color: #f85149; }
        .number { color: #79c0ff; }
        .variable { color: #ffa657; }

        /* Output Display */
        .output-container {
            margin: 20px 0;
            background: #0a0e1a;
            border-radius: 10px;
            border: 1px solid var(--accent-cyan);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.1);
        }

        .output-header {
            background: var(--accent-cyan);
            color: var(--bg-primary);
            padding: 10px 20px;
            font-weight: bold;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .output-header::before {
            content: 'ğŸ“Š';
        }

        .output-content {
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            color: var(--accent-cyan);
        }

        /* Chart Examples */
        .chart-showcase {
            background: var(--bg-tertiary);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid var(--accent-orange);
        }

        .chart-title {
            color: var(--accent-orange);
            font-size: 1.1rem;
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }

        .chart-example {
            background: var(--bg-primary);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--accent-orange);
        }

        .chart-placeholder {
            color: var(--accent-orange);
            font-style: italic;
            font-size: 1rem;
        }

        /* SVG Chart Styles */
        .svg-chart {
            max-width: 100%;
            height: auto;
        }

        /* Advanced Features */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: var(--bg-tertiary);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid var(--accent-purple);
        }

        .feature-title {
            color: var(--accent-purple);
            font-size: 1.1rem;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .feature-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* Data Tables */
        .data-table {
            margin: 20px 0;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-tertiary);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--accent-pink);
        }

        th {
            background: var(--accent-pink);
            color: var(--bg-primary);
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }

        td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--bg-secondary);
            color: var(--text-primary);
        }

        tr:nth-child(even) {
            background: rgba(255, 0, 110, 0.05);
        }

        tr:hover {
            background: rgba(255, 0, 110, 0.1);
        }

        /* Key Points */
        .key-points {
            background: linear-gradient(135deg, rgba(255, 0, 110, 0.1) 0%, rgba(0, 212, 255, 0.1) 100%);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-pink);
        }

        .key-points h4 {
            color: var(--accent-pink);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-points h4::before {
            content: 'ğŸ’¡';
        }

        .key-points ul {
            list-style: none;
            padding-left: 0;
        }

        .key-points li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .key-points li::before {
            content: 'â–¶';
            color: var(--accent-cyan);
            position: absolute;
            left: 0;
        }

        /* Warning/Tip boxes */
        .tip-box {
            background: rgba(157, 78, 221, 0.1);
            border: 1px solid var(--accent-purple);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-purple);
        }

        .tip-box h4 {
            color: var(--accent-purple);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tip-box h4::before {
            content: 'âš ï¸';
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .chapter-meta {
                flex-direction: column;
                gap: 10px;
            }

            .chapter-nav {
                gap: 2px;
                padding: 4px;
            }

            .nav-button {
                padding: 1px 3px;
                font-size: 0.6rem;
            }

            .section {
                padding: 20px;
                margin: 20px 0;
            }

            h2 {
                font-size: 1.5rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .code-content, .output-content {
                font-size: 0.85rem;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ç¬¬13ç« : é«˜åº¦ãªggplot2</h1>
            <p class="subtitle">ã‚«ã‚¹ã‚¿ãƒ å¯è¦–åŒ–ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯</p>
            <div class="chapter-meta">
                <span>ğŸ¨ ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ</span>
                <span>ğŸ”§ é«˜åº¦ãªgeom</span>
                <span>ğŸ“Š è¤‡åˆã‚°ãƒ©ãƒ•</span>
            </div>
            <div class="progress-indicator">
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot completed"></div>
                <div class="progress-dot active"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
            </div>
        </header>

        <nav class="chapter-nav">
            <a href="chapter1-tidyverse-overview.html" class="nav-button">1</a>
            <a href="chapter2-dplyr-data-manipulation.html" class="nav-button">2</a>
            <a href="chapter3-ggplot2-visualization.html" class="nav-button">3</a>
            <a href="chapter4-tidyr-data-reshaping.html" class="nav-button">4</a>
            <a href="chapter5-stringr-text-processing.html" class="nav-button">5</a>
            <a href="chapter6-forcats-purrr-advanced.html" class="nav-button">6</a>
            <a href="chapter7-lubridate-datetime.html" class="nav-button">7</a>
            <a href="chapter8-readr-data-import.html" class="nav-button">8</a>
            <a href="chapter9-tibble-modern-dataframe.html" class="nav-button">9</a>
            <a href="chapter10-statistics-modeling.html" class="nav-button">10</a>
            <a href="chapter11-machine-learning.html" class="nav-button">11</a>
            <a href="chapter12-time-series.html" class="nav-button">12</a>
            <a href="#" class="nav-button current">13</a>
            <a href="chapter14-interactive-visualization.html" class="nav-button">14</a>
            <a href="chapter15-advanced-data-viz.html" class="nav-button">15</a>
        </nav>

        <section class="section">
            <h2>ğŸ¨ ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã¨ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°</h2>
            
            <p>ggplot2ã®çœŸã®åŠ›ã¯ã€å®Œå…¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ ã«ã‚ã‚Šã¾ã™ã€‚ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªè¦–è¦šåŠ¹æœã‚’ä½œæˆã™ã‚‹é«˜åº¦ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å­¦ã³ã¾ã™ã€‚</p>

            <h3>ä¼æ¥­ãƒ–ãƒ©ãƒ³ãƒ‰å¯¾å¿œã®ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒä½œæˆ</h3>

            <div class="code-container">
                <div class="code-header">ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ</div>
                <div class="code-content">
<span class="keyword">library</span>(<span class="string">ggplot2</span>)
<span class="keyword">library</span>(<span class="string">dplyr</span>)
<span class="keyword">library</span>(<span class="string">scales</span>)
<span class="keyword">library</span>(<span class="string">extrafont</span>)

<span class="comment"># ä¼æ¥­ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ</span>
brand_colors <span class="operator">&lt;-</span> <span class="function">c</span>(
  primary <span class="operator">=</span> <span class="string">"#1e3a8a"</span>,     <span class="comment"># ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ–ãƒ«ãƒ¼</span>
  secondary <span class="operator">=</span> <span class="string">"#3b82f6"</span>,   <span class="comment"># ãƒ–ãƒ©ã‚¤ãƒˆãƒ–ãƒ«ãƒ¼</span>
  accent <span class="operator">=</span> <span class="string">"#f59e0b"</span>,      <span class="comment"># ã‚ªãƒ¬ãƒ³ã‚¸</span>
  success <span class="operator">=</span> <span class="string">"#10b981"</span>,     <span class="comment"># ã‚°ãƒªãƒ¼ãƒ³</span>
  warning <span class="operator">=</span> <span class="string">"#ef4444"</span>,     <span class="comment"># ãƒ¬ãƒƒãƒ‰</span>
  neutral <span class="operator">=</span> <span class="string">"#6b7280"</span>,     <span class="comment"># ã‚°ãƒ¬ãƒ¼</span>
  background <span class="operator">=</span> <span class="string">"#f8fafc"</span>,  <span class="comment"># ãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼</span>
  text <span class="operator">=</span> <span class="string">"#1f2937"</span>         <span class="comment"># ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼</span>
)

<span class="comment"># ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒé–¢æ•°ã®ä½œæˆ</span>
theme_corporate <span class="operator">&lt;-</span> <span class="keyword">function</span>(
  base_size <span class="operator">=</span> <span class="number">11</span>,
  base_family <span class="operator">=</span> <span class="string">"Arial"</span>,
  grid <span class="operator">=</span> <span class="variable">TRUE</span>,
  axis_lines <span class="operator">=</span> <span class="variable">TRUE</span>
) {
  <span class="function">theme_minimal</span>(base_size <span class="operator">=</span> base_size, base_family <span class="operator">=</span> base_family) <span class="operator">+</span>
    <span class="function">theme</span>(
      <span class="comment"># å…¨ä½“èƒŒæ™¯</span>
      plot.background <span class="operator">=</span> <span class="function">element_rect</span>(fill <span class="operator">=</span> brand_colors[<span class="string">"background"</span>], color <span class="operator">=</span> <span class="variable">NA</span>),
      panel.background <span class="operator">=</span> <span class="function">element_rect</span>(fill <span class="operator">=</span> <span class="string">"white"</span>, color <span class="operator">=</span> <span class="variable">NA</span>),
      
      <span class="comment"># ãƒ†ã‚­ã‚¹ãƒˆ</span>
      text <span class="operator">=</span> <span class="function">element_text</span>(color <span class="operator">=</span> brand_colors[<span class="string">"text"</span>], family <span class="operator">=</span> base_family),
      plot.title <span class="operator">=</span> <span class="function">element_text</span>(
        size <span class="operator">=</span> base_size <span class="operator">*</span> <span class="number">1.4</span>,
        face <span class="operator">=</span> <span class="string">"bold"</span>,
        color <span class="operator">=</span> brand_colors[<span class="string">"primary"</span>],
        margin <span class="operator">=</span> <span class="function">margin</span>(b <span class="operator">=</span> <span class="number">20</span>)
      ),
      plot.subtitle <span class="operator">=</span> <span class="function">element_text</span>(
        size <span class="operator">=</span> base_size <span class="operator">*</span> <span class="number">1.1</span>,
        color <span class="operator">=</span> brand_colors[<span class="string">"neutral"</span>],
        margin <span class="operator">=</span> <span class="function">margin</span>(b <span class="operator">=</span> <span class="number">20</span>)
      ),
      plot.caption <span class="operator">=</span> <span class="function">element_text</span>(
        size <span class="operator">=</span> base_size <span class="operator">*</span> <span class="number">0.8</span>,
        color <span class="operator">=</span> brand_colors[<span class="string">"neutral"</span>],
        hjust <span class="operator">=</span> <span class="number">1</span>,
        margin <span class="operator">=</span> <span class="function">margin</span>(t <span class="operator">=</span> <span class="number">15</span>)
      ),
      
      <span class="comment"># è»¸</span>
      axis.title <span class="operator">=</span> <span class="function">element_text</span>(
        size <span class="operator">=</span> base_size <span class="operator">*</span> <span class="number">0.9</span>,
        color <span class="operator">=</span> brand_colors[<span class="string">"text"</span>],
        face <span class="operator">=</span> <span class="string">"bold"</span>
      ),
      axis.text <span class="operator">=</span> <span class="function">element_text</span>(
        size <span class="operator">=</span> base_size <span class="operator">*</span> <span class="number">0.8</span>,
        color <span class="operator">=</span> brand_colors[<span class="string">"neutral"</span>]
      ),
      axis.line <span class="operator">=</span> <span class="keyword">if</span> (axis_lines) <span class="function">element_line</span>(color <span class="operator">=</span> brand_colors[<span class="string">"neutral"</span>], size <span class="operator">=</span> <span class="number">0.5</span>) <span class="keyword">else</span> <span class="function">element_blank</span>(),
      axis.ticks <span class="operator">=</span> <span class="function">element_line</span>(color <span class="operator">=</span> brand_colors[<span class="string">"neutral"</span>], size <span class="operator">=</span> <span class="number">0.5</span>),
      
      <span class="comment"># ã‚°ãƒªãƒƒãƒ‰</span>
      panel.grid.major <span class="operator">=</span> <span class="keyword">if</span> (grid) <span class="function">element_line</span>(color <span class="operator">=</span> <span class="string">"#e5e7eb"</span>, size <span class="operator">=</span> <span class="number">0.5</span>) <span class="keyword">else</span> <span class="function">element_blank</span>(),
      panel.grid.minor <span class="operator">=</span> <span class="function">element_blank</span>(),
      
      <span class="comment"># å‡¡ä¾‹</span>
      legend.position <span class="operator">=</span> <span class="string">"bottom"</span>,
      legend.background <span class="operator">=</span> <span class="function">element_rect</span>(fill <span class="operator">=</span> <span class="string">"white"</span>, color <span class="operator">=</span> <span class="variable">NA</span>),
      legend.key <span class="operator">=</span> <span class="function">element_rect</span>(fill <span class="operator">=</span> <span class="string">"white"</span>, color <span class="operator">=</span> <span class="variable">NA</span>),
      legend.title <span class="operator">=</span> <span class="function">element_text</span>(
        size <span class="operator">=</span> base_size <span class="operator">*</span> <span class="number">0.9</span>,
        face <span class="operator">=</span> <span class="string">"bold"</span>,
        color <span class="operator">=</span> brand_colors[<span class="string">"text"</span>]
      ),
      
      <span class="comment"># ã‚¹ãƒˆãƒªãƒƒãƒ—ï¼ˆãƒ•ã‚¡ã‚»ãƒƒãƒˆï¼‰</span>
      strip.background <span class="operator">=</span> <span class="function">element_rect</span>(
        fill <span class="operator">=</span> brand_colors[<span class="string">"primary"</span>],
        color <span class="operator">=</span> <span class="variable">NA</span>
      ),
      strip.text <span class="operator">=</span> <span class="function">element_text</span>(
        color <span class="operator">=</span> <span class="string">"white"</span>,
        face <span class="operator">=</span> <span class="string">"bold"</span>,
        size <span class="operator">=</span> base_size <span class="operator">*</span> <span class="number">0.9</span>
      ),
      
      <span class="comment"># ãƒãƒ¼ã‚¸ãƒ³</span>
      plot.margin <span class="operator">=</span> <span class="function">margin</span>(<span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>)
    )
}

<span class="comment"># ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«</span>
scale_fill_corporate <span class="operator">&lt;-</span> <span class="keyword">function</span>(...) {
  <span class="function">scale_fill_manual</span>(
    values <span class="operator">=</span> <span class="function">c</span>(brand_colors[<span class="string">"primary"</span>], brand_colors[<span class="string">"secondary"</span>], 
                brand_colors[<span class="string">"accent"</span>], brand_colors[<span class="string">"success"</span>], brand_colors[<span class="string">"warning"</span>]),
    ...
  )
}

scale_color_corporate <span class="operator">&lt;-</span> <span class="keyword">function</span>(...) {
  <span class="function">scale_color_manual</span>(
    values <span class="operator">=</span> <span class="function">c</span>(brand_colors[<span class="string">"primary"</span>], brand_colors[<span class="string">"secondary"</span>], 
                 brand_colors[<span class="string">"accent"</span>], brand_colors[<span class="string">"success"</span>], brand_colors[<span class="string">"warning"</span>]),
    ...
  )
}

<span class="comment"># ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</span>
<span class="function">set.seed</span>(<span class="number">123</span>)
business_data <span class="operator">&lt;-</span> <span class="function">tibble</span>(
  quarter <span class="operator">=</span> <span class="function">rep</span>(<span class="function">paste0</span>(<span class="string">"Q"</span>, <span class="number">1</span>:<span class="number">4</span>), each <span class="operator">=</span> <span class="number">5</span>),
  department <span class="operator">=</span> <span class="function">rep</span>(<span class="function">c</span>(<span class="string">"å–¶æ¥­"</span>, <span class="string">"ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°"</span>, <span class="string">"é–‹ç™º"</span>, <span class="string">"ã‚µãƒãƒ¼ãƒˆ"</span>, <span class="string">"ç®¡ç†"</span>), <span class="number">4</span>),
  revenue <span class="operator">=</span> <span class="function">round</span>(<span class="function">rnorm</span>(<span class="number">20</span>, <span class="number">5000</span>, <span class="number">1500</span>)),
  target <span class="operator">=</span> <span class="function">round</span>(<span class="function">rnorm</span>(<span class="number">20</span>, <span class="number">4800</span>, <span class="number">800</span>)),
  satisfaction <span class="operator">=</span> <span class="function">round</span>(<span class="function">runif</span>(<span class="number">20</span>, <span class="number">3.5</span>, <span class="number">5.0</span>), <span class="number">1</span>)
) <span class="operator">%&gt;%</span>
  <span class="function">mutate</span>(
    performance <span class="operator">=</span> revenue / target,
    status <span class="operator">=</span> <span class="function">case_when</span>(
      performance <span class="operator">&gt;=</span> <span class="number">1.1</span> ~ <span class="string">"å„ªç§€"</span>,
      performance <span class="operator">&gt;=</span> <span class="number">0.95</span> ~ <span class="string">"è‰¯å¥½"</span>,
      <span class="variable">TRUE</span> ~ <span class="string">"æ”¹å–„è¦"</span>
    )
  )

<span class="comment"># ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã®é©ç”¨ä¾‹</span>
corporate_chart <span class="operator">&lt;-</span> business_data <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> quarter, y <span class="operator">=</span> revenue, fill <span class="operator">=</span> department)) <span class="operator">+</span>
  <span class="function">geom_col</span>(position <span class="operator">=</span> <span class="string">"dodge"</span>, width <span class="operator">=</span> <span class="number">0.8</span>, alpha <span class="operator">=</span> <span class="number">0.9</span>) <span class="operator">+</span>
  <span class="function">scale_fill_corporate</span>() <span class="operator">+</span>
  <span class="function">scale_y_continuous</span>(
    labels <span class="operator">=</span> <span class="function">label_currency</span>(prefix <span class="operator">=</span> <span class="string">"Â¥"</span>, suffix <span class="operator">=</span> <span class="string">"K"</span>, scale <span class="operator">=</span> <span class="number">0.001</span>),
    expand <span class="operator">=</span> <span class="function">expansion</span>(mult <span class="operator">=</span> <span class="function">c</span>(<span class="number">0</span>, <span class="number">0.1</span>))
  ) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"å››åŠæœŸåˆ¥éƒ¨é–€å£²ä¸Šå®Ÿç¸¾"</span>,
    subtitle <span class="operator">=</span> <span class="string">"2023å¹´åº¦ã«ãŠã‘ã‚‹å„éƒ¨é–€ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¨ç§»"</span>,
    x <span class="operator">=</span> <span class="string">"å››åŠæœŸ"</span>,
    y <span class="operator">=</span> <span class="string">"å£²ä¸Šï¼ˆåƒå††ï¼‰"</span>,
    fill <span class="operator">=</span> <span class="string">"éƒ¨é–€"</span>,
    caption <span class="operator">=</span> <span class="string">"ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹: ç¤¾å†…å£²ä¸Šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  | ä½œæˆæ—¥: 2023-12-20"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>()

<span class="function">print</span>(corporate_chart)

<span class="function">print</span>(<span class="string">"ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒãŒé©ç”¨ã•ã‚Œã¾ã—ãŸ"</span>)
</div>
            </div>

            <div class="output-container">
                <div class="output-header">ä¼æ¥­ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ†ãƒ¼ãƒé©ç”¨çµæœ</div>
                <div class="output-content">[1] "ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒãŒé©ç”¨ã•ã‚Œã¾ã—ãŸ"

# ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã®ç‰¹å¾´:
- ä¼æ¥­ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ã®çµ±ä¸€
- ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£
- æ¸…æ½”ã§èª­ã¿ã‚„ã™ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªãƒãƒ¼ã‚¸ãƒ³è¨­å®š
- çµ±ä¸€ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰</div>
            </div>

            <div class="chart-showcase">
                <div class="chart-title">ä¼æ¥­ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ†ãƒ¼ãƒé©ç”¨ä¾‹</div>
                <div class="chart-example">
                    <svg class="svg-chart" width="500" height="300" viewBox="0 0 500 300">
                        <!-- èƒŒæ™¯ -->
                        <rect width="500" height="300" fill="#f8fafc"/>
                        
                        <!-- ã‚°ãƒªãƒƒãƒ‰ -->
                        <defs>
                            <pattern id="grid" width="50" height="25" patternUnits="userSpaceOnUse">
                                <path d="M 50 0 L 0 0 0 25" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
                            </pattern>
                        </defs>
                        <rect width="400" height="200" x="80" y="80" fill="url(#grid)"/>
                        
                        <!-- ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ -->
                        <rect x="100" y="220" width="30" height="40" fill="#1e3a8a" opacity="0.9"/>
                        <rect x="140" y="200" width="30" height="60" fill="#3b82f6" opacity="0.9"/>
                        <rect x="180" y="180" width="30" height="80" fill="#f59e0b" opacity="0.9"/>
                        <rect x="220" y="210" width="30" height="50" fill="#10b981" opacity="0.9"/>
                        <rect x="260" y="190" width="30" height="70" fill="#ef4444" opacity="0.9"/>
                        
                        <rect x="320" y="200" width="30" height="60" fill="#1e3a8a" opacity="0.9"/>
                        <rect x="360" y="170" width="30" height="90" fill="#3b82f6" opacity="0.9"/>
                        <rect x="400" y="160" width="30" height="100" fill="#f59e0b" opacity="0.9"/>
                        <rect x="440" y="185" width="30" height="75" fill="#10b981" opacity="0.9"/>
                        
                        <!-- è»¸ãƒ©ãƒ™ãƒ« -->
                        <text x="200" y="295" text-anchor="middle" fill="#1f2937" font-family="Arial" font-size="12" font-weight="bold">å››åŠæœŸ</text>
                        <text x="30" y="180" text-anchor="middle" fill="#1f2937" font-family="Arial" font-size="12" font-weight="bold" transform="rotate(-90 30 180)">å£²ä¸Šï¼ˆåƒå††ï¼‰</text>
                        
                        <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
                        <text x="250" y="30" text-anchor="middle" fill="#1e3a8a" font-family="Arial" font-size="16" font-weight="bold">å››åŠæœŸåˆ¥éƒ¨é–€å£²ä¸Šå®Ÿç¸¾</text>
                        <text x="250" y="50" text-anchor="middle" fill="#6b7280" font-family="Arial" font-size="12">2023å¹´åº¦ã«ãŠã‘ã‚‹å„éƒ¨é–€ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¨ç§»</text>
                    </svg>
                </div>
            </div>

            <h3>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœã¨ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³</h3>

            <div class="code-container">
                <div class="code-header">gganimate ã«ã‚ˆã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯è¦–åŒ–</div>
                <div class="code-content">
<span class="keyword">library</span>(<span class="string">gganimate</span>)
<span class="keyword">library</span>(<span class="string">transformr</span>)

<span class="comment"># æ™‚ç³»åˆ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</span>
<span class="function">set.seed</span>(<span class="number">456</span>)
animation_data <span class="operator">&lt;-</span> <span class="function">tibble</span>(
  year <span class="operator">=</span> <span class="function">rep</span>(<span class="number">2020</span>:<span class="number">2023</span>, each <span class="operator">=</span> <span class="number">12</span>),
  month <span class="operator">=</span> <span class="function">rep</span>(<span class="number">1</span>:<span class="number">12</span>, <span class="number">4</span>),
  date <span class="operator">=</span> <span class="function">as.Date</span>(<span class="function">paste</span>(year, month, <span class="string">"01"</span>, sep <span class="operator">=</span> <span class="string">"-"</span>))
) <span class="operator">%&gt;%</span>
  <span class="function">mutate</span>(
    product_a <span class="operator">=</span> <span class="function">cumsum</span>(<span class="function">rnorm</span>(<span class="function">n</span>(), <span class="number">50</span>, <span class="number">20</span>)) <span class="operator">+</span> <span class="number">1000</span>,
    product_b <span class="operator">=</span> <span class="function">cumsum</span>(<span class="function">rnorm</span>(<span class="function">n</span>(), <span class="number">30</span>, <span class="number">25</span>)) <span class="operator">+</span> <span class="number">800</span>,
    product_c <span class="operator">=</span> <span class="function">cumsum</span>(<span class="function">rnorm</span>(<span class="function">n</span>(), <span class="number">40</span>, <span class="number">15</span>)) <span class="operator">+</span> <span class="number">600</span>
  ) <span class="operator">%&gt;%</span>
  <span class="function">pivot_longer</span>(
    cols <span class="operator">=</span> <span class="function">starts_with</span>(<span class="string">"product"</span>),
    names_to <span class="operator">=</span> <span class="string">"product"</span>,
    values_to <span class="operator">=</span> <span class="string">"sales"</span>
  ) <span class="operator">%&gt;%</span>
  <span class="function">mutate</span>(
    product <span class="operator">=</span> <span class="function">case_when</span>(
      product <span class="operator">==</span> <span class="string">"product_a"</span> ~ <span class="string">"ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆA"</span>,
      product <span class="operator">==</span> <span class="string">"product_b"</span> ~ <span class="string">"ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆB"</span>,
      product <span class="operator">==</span> <span class="string">"product_c"</span> ~ <span class="string">"ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆC"</span>
    )
  )

<span class="comment"># ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ããƒ©ã‚¤ãƒ³ãƒãƒ£ãƒ¼ãƒˆ</span>
animated_line_chart <span class="operator">&lt;-</span> animation_data <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> date, y <span class="operator">=</span> sales, color <span class="operator">=</span> product)) <span class="operator">+</span>
  <span class="function">geom_line</span>(size <span class="operator">=</span> <span class="number">1.2</span>, alpha <span class="operator">=</span> <span class="number">0.8</span>) <span class="operator">+</span>
  <span class="function">geom_point</span>(size <span class="operator">=</span> <span class="number">3</span>, alpha <span class="operator">=</span> <span class="number">0.9</span>) <span class="operator">+</span>
  <span class="function">scale_color_corporate</span>() <span class="operator">+</span>
  <span class="function">scale_x_date</span>(date_labels <span class="operator">=</span> <span class="string">"%Y-%m"</span>, date_breaks <span class="operator">=</span> <span class="string">"6 months"</span>) <span class="operator">+</span>
  <span class="function">scale_y_continuous</span>(
    labels <span class="operator">=</span> <span class="function">label_currency</span>(prefix <span class="operator">=</span> <span class="string">"Â¥"</span>, suffix <span class="operator">=</span> <span class="string">"K"</span>, scale <span class="operator">=</span> <span class="number">0.001</span>)
  ) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"è£½å“åˆ¥å£²ä¸Šæ¨ç§»: {closest_state}å¹´{sprintf('%02d', month(closest_state))}æœˆ"</span>,
    subtitle <span class="operator">=</span> <span class="string">"ç´¯ç©å£²ä¸Šé«˜ã®æœˆæ¬¡ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ"</span>,
    x <span class="operator">=</span> <span class="string">"æœŸé–“"</span>,
    y <span class="operator">=</span> <span class="string">"å£²ä¸Šé«˜ï¼ˆåƒå††ï¼‰"</span>,
    color <span class="operator">=</span> <span class="string">"è£½å“"</span>,
    caption <span class="operator">=</span> <span class="string">"ãƒ‡ãƒ¼ã‚¿æœŸé–“: 2020å¹´1æœˆã€œ2023å¹´12æœˆ"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>() <span class="operator">+</span>
  <span class="function">theme</span>(axis.text.x <span class="operator">=</span> <span class="function">element_text</span>(angle <span class="operator">=</span> <span class="number">45</span>, hjust <span class="operator">=</span> <span class="number">1</span>)) <span class="operator">+</span>
  <span class="function">transition_reveal</span>(date) <span class="operator">+</span>
  <span class="function">ease_aes</span>(<span class="string">"linear"</span>)

<span class="comment"># ãƒ¬ãƒ¼ã‚¹å‹ãƒãƒ£ãƒ¼ãƒˆã®ä½œæˆ</span>
race_data <span class="operator">&lt;-</span> animation_data <span class="operator">%&gt;%</span>
  <span class="function">group_by</span>(date) <span class="operator">%&gt;%</span>
  <span class="function">arrange</span>(<span class="function">desc</span>(sales)) <span class="operator">%&gt;%</span>
  <span class="function">mutate</span>(rank <span class="operator">=</span> <span class="function">row_number</span>()) <span class="operator">%&gt;%</span>
  <span class="function">ungroup</span>() <span class="operator">%&gt;%</span>
  <span class="function">filter</span>(rank <span class="operator">&lt;=</span> <span class="number">3</span>)

racing_bar_chart <span class="operator">&lt;-</span> race_data <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> <span class="operator">-</span>rank, y <span class="operator">=</span> sales, fill <span class="operator">=</span> product)) <span class="operator">+</span>
  <span class="function">geom_col</span>(width <span class="operator">=</span> <span class="number">0.8</span>) <span class="operator">+</span>
  <span class="function">geom_text</span>(
    <span class="function">aes</span>(y <span class="operator">=</span> sales <span class="operator">+</span> <span class="number">50</span>, label <span class="operator">=</span> product),
    hjust <span class="operator">=</span> <span class="number">0</span>,
    size <span class="operator">=</span> <span class="number">4</span>,
    fontface <span class="operator">=</span> <span class="string">"bold"</span>
  ) <span class="operator">+</span>
  <span class="function">geom_text</span>(
    <span class="function">aes</span>(y <span class="operator">=</span> <span class="number">0</span>, label <span class="operator">=</span> <span class="function">paste0</span>(<span class="string">"Â¥"</span>, <span class="function">round</span>(sales/1000, <span class="number">1</span>), <span class="string">"K"</span>)),
    hjust <span class="operator">=</span> <span class="number">-0.1</span>,
    size <span class="operator">=</span> <span class="number">3.5</span>,
    color <span class="operator">=</span> <span class="string">"white"</span>,
    fontface <span class="operator">=</span> <span class="string">"bold"</span>
  ) <span class="operator">+</span>
  <span class="function">scale_fill_corporate</span>() <span class="operator">+</span>
  <span class="function">coord_flip</span>() <span class="operator">+</span>
  <span class="function">scale_x_continuous</span>(breaks <span class="operator">=</span> <span class="function">c</span>(<span class="operator">-</span><span class="number">3</span>, <span class="operator">-</span><span class="number">2</span>, <span class="operator">-</span><span class="number">1</span>), labels <span class="operator">=</span> <span class="function">c</span>(<span class="string">"3ä½"</span>, <span class="string">"2ä½"</span>, <span class="string">"1ä½"</span>)) <span class="operator">+</span>
  <span class="function">scale_y_continuous</span>(expand <span class="operator">=</span> <span class="function">expansion</span>(mult <span class="operator">=</span> <span class="function">c</span>(<span class="number">0</span>, <span class="number">0.15</span>))) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"è£½å“å£²ä¸Šãƒ©ãƒ³ã‚­ãƒ³ã‚°: {closest_state}å¹´{sprintf('%02d', month(closest_state))}æœˆ"</span>,
    subtitle <span class="operator">=</span> <span class="string">"æœˆæ¬¡å£²ä¸Šé«˜ã«ã‚ˆã‚‹é †ä½å¤‰å‹•"</span>,
    x <span class="operator">=</span> <span class="string">"é †ä½"</span>,
    y <span class="operator">=</span> <span class="string">"å£²ä¸Šé«˜ï¼ˆåƒå††ï¼‰"</span>,
    caption <span class="operator">=</span> <span class="string">"ä¸Šä½3è£½å“ã®æ¨ç§»"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>() <span class="operator">+</span>
  <span class="function">theme</span>(
    legend.position <span class="operator">=</span> <span class="string">"none"</span>,
    axis.text.y <span class="operator">=</span> <span class="function">element_blank</span>(),
    axis.ticks.y <span class="operator">=</span> <span class="function">element_blank</span>()
  ) <span class="operator">+</span>
  <span class="function">transition_time</span>(date) <span class="operator">+</span>
  <span class="function">ease_aes</span>(<span class="string">"cubic-in-out"</span>)

<span class="function">print</span>(<span class="string">"ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆãŒä½œæˆã•ã‚Œã¾ã—ãŸ"</span>)

<span class="comment"># ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</span>
animation_options <span class="operator">&lt;-</span> <span class="function">list</span>(
  width <span class="operator">=</span> <span class="number">800</span>,
  height <span class="operator">=</span> <span class="number">600</span>,
  res <span class="operator">=</span> <span class="number">120</span>,
  fps <span class="operator">=</span> <span class="number">10</span>,
  duration <span class="operator">=</span> <span class="number">8</span>
)

<span class="function">print</span>(<span class="string">"ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š:"</span>)
<span class="function">print</span>(animation_options)
</div>
            </div>

            <div class="output-container">
                <div class="output-header">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯è¦–åŒ–çµæœ</div>
                <div class="output-content">[1] "ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ£ãƒ¼ãƒˆãŒä½œæˆã•ã‚Œã¾ã—ãŸ"

[1] "ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š:"
$width
[1] 800

$height
[1] 600

$res
[1] 120

$fps
[1] 10

$duration
[1] 8

# ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½:
- transition_reveal(): ãƒ‡ãƒ¼ã‚¿ã®æ®µéšçš„è¡¨ç¤º
- transition_time(): æ™‚é–“è»¸ã«æ²¿ã£ãŸå¤‰åŒ–
- ease_aes(): ã‚¹ãƒ ãƒ¼ã‚ºãªãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³åŠ¹æœ
- å‹•çš„ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ©ãƒ™ãƒ«æ›´æ–°</div>
            </div>
        </section>

        <section class="section">
            <h2>ğŸ”§ é«˜åº¦ãªgeom ã¨çµ±è¨ˆå¤‰æ›</h2>

            <h3>ã‚«ã‚¹ã‚¿ãƒ geom ã®æ´»ç”¨</h3>

            <div class="code-container">
                <div class="code-header">é«˜åº¦ãªgeomã¨staté–¢æ•°</div>
                <div class="code-content">
<span class="keyword">library</span>(<span class="string">ggridges</span>)
<span class="keyword">library</span>(<span class="string">ggbeeswarm</span>)
<span class="keyword">library</span>(<span class="string">ggforce</span>)
<span class="keyword">library</span>(<span class="string">patchwork</span>)

<span class="comment"># è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ä½œæˆ</span>
<span class="function">set.seed</span>(<span class="number">789</span>)
advanced_data <span class="operator">&lt;-</span> <span class="function">tibble</span>(
  customer_segment <span class="operator">=</span> <span class="function">rep</span>(<span class="function">c</span>(<span class="string">"ãƒ—ãƒ¬ãƒŸã‚¢ãƒ "</span>, <span class="string">"ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰"</span>, <span class="string">"ãƒ™ãƒ¼ã‚·ãƒƒã‚¯"</span>), each <span class="operator">=</span> <span class="number">200</span>),
  purchase_amount <span class="operator">=</span> <span class="function">c</span>(
    <span class="function">rlnorm</span>(<span class="number">200</span>, <span class="function">log</span>(<span class="number">5000</span>), <span class="number">0.8</span>),  <span class="comment"># ãƒ—ãƒ¬ãƒŸã‚¢ãƒ </span>
    <span class="function">rlnorm</span>(<span class="number">200</span>, <span class="function">log</span>(<span class="number">2000</span>), <span class="number">0.6</span>),  <span class="comment"># ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰</span>
    <span class="function">rlnorm</span>(<span class="number">200</span>, <span class="function">log</span>(<span class="number">800</span>), <span class="number">0.5</span>)    <span class="comment"># ãƒ™ãƒ¼ã‚·ãƒƒã‚¯</span>
  ),
  satisfaction <span class="operator">=</span> <span class="function">c</span>(
    <span class="function">rnorm</span>(<span class="number">200</span>, <span class="number">4.5</span>, <span class="number">0.5</span>),  <span class="comment"># ãƒ—ãƒ¬ãƒŸã‚¢ãƒ </span>
    <span class="function">rnorm</span>(<span class="number">200</span>, <span class="number">4.0</span>, <span class="number">0.7</span>),  <span class="comment"># ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰</span>
    <span class="function">rnorm</span>(<span class="number">200</span>, <span class="number">3.5</span>, <span class="number">0.8</span>)   <span class="comment"># ãƒ™ãƒ¼ã‚·ãƒƒã‚¯</span>
  ),
  retention_months <span class="operator">=</span> <span class="function">c</span>(
    <span class="function">round</span>(<span class="function">rexp</span>(<span class="number">200</span>, <span class="number">1</span>/<span class="number">24</span>)),  <span class="comment"># ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ï¼ˆé•·æœŸï¼‰</span>
    <span class="function">round</span>(<span class="function">rexp</span>(<span class="number">200</span>, <span class="number">1</span>/<span class="number">15</span>)),  <span class="comment"># ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ï¼ˆä¸­æœŸï¼‰</span>
    <span class="function">round</span>(<span class="function">rexp</span>(<span class="number">200</span>, <span class="number">1</span>/<span class="number">8</span>))   <span class="comment"># ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ï¼ˆçŸ­æœŸï¼‰</span>
  )
) <span class="operator">%&gt;%</span>
  <span class="function">mutate</span>(
    satisfaction <span class="operator">=</span> <span class="function">pmax</span>(<span class="number">1</span>, <span class="function">pmin</span>(<span class="number">5</span>, satisfaction)),
    retention_months <span class="operator">=</span> <span class="function">pmax</span>(<span class="number">1</span>, <span class="function">pmin</span>(<span class="number">60</span>, retention_months)),
    customer_value <span class="operator">=</span> purchase_amount <span class="operator">*</span> retention_months / <span class="number">12</span>
  )

<span class="comment"># 1. Ridge Plotï¼ˆåˆ†å¸ƒã®é‡ãªã‚Šè¡¨ç¤ºï¼‰</span>
ridge_plot <span class="operator">&lt;-</span> advanced_data <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> purchase_amount, y <span class="operator">=</span> customer_segment, fill <span class="operator">=</span> customer_segment)) <span class="operator">+</span>
  <span class="function">geom_density_ridges</span>(
    alpha <span class="operator">=</span> <span class="number">0.7</span>,
    bandwidth <span class="operator">=</span> <span class="number">500</span>,
    scale <span class="operator">=</span> <span class="number">1.2</span>,
    rel_min_height <span class="operator">=</span> <span class="number">0.01</span>
  ) <span class="operator">+</span>
  <span class="function">scale_fill_corporate</span>() <span class="operator">+</span>
  <span class="function">scale_x_continuous</span>(
    labels <span class="operator">=</span> <span class="function">label_currency</span>(prefix <span class="operator">=</span> <span class="string">"Â¥"</span>, suffix <span class="operator">=</span> <span class="string">"K"</span>, scale <span class="operator">=</span> <span class="number">0.001</span>),
    limits <span class="operator">=</span> <span class="function">c</span>(<span class="number">0</span>, <span class="number">15000</span>)
  ) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥è³¼å…¥é‡‘é¡åˆ†å¸ƒ"</span>,
    subtitle <span class="operator">=</span> <span class="string">"é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã”ã¨ã®è³¼å…¥ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ"</span>,
    x <span class="operator">=</span> <span class="string">"è³¼å…¥é‡‘é¡ï¼ˆåƒå††ï¼‰"</span>,
    y <span class="operator">=</span> <span class="string">"é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>() <span class="operator">+</span>
  <span class="function">theme</span>(legend.position <span class="operator">=</span> <span class="string">"none"</span>)

<span class="comment"># 2. Beeswarm Plotï¼ˆãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®é‡è¤‡å›é¿ï¼‰</span>
beeswarm_plot <span class="operator">&lt;-</span> advanced_data <span class="operator">%&gt;%</span>
  <span class="function">sample_n</span>(<span class="number">150</span>) <span class="operator">%&gt;%</span>  <span class="comment"># è¡¨ç¤ºã®ãŸã‚ä¸€éƒ¨ã‚’æŠ½å‡º</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> customer_segment, y <span class="operator">=</span> satisfaction, color <span class="operator">=</span> customer_segment)) <span class="operator">+</span>
  <span class="function">geom_quasirandom</span>(
    size <span class="operator">=</span> <span class="number">2</span>,
    alpha <span class="operator">=</span> <span class="number">0.7</span>,
    width <span class="operator">=</span> <span class="number">0.3</span>
  ) <span class="operator">+</span>
  <span class="function">geom_boxplot</span>(
    alpha <span class="operator">=</span> <span class="number">0.3</span>,
    width <span class="operator">=</span> <span class="number">0.5</span>,
    outlier.shape <span class="operator">=</span> <span class="variable">NA</span>
  ) <span class="operator">+</span>
  <span class="function">scale_color_corporate</span>() <span class="operator">+</span>
  <span class="function">scale_y_continuous</span>(limits <span class="operator">=</span> <span class="function">c</span>(<span class="number">1</span>, <span class="number">5</span>), breaks <span class="operator">=</span> <span class="number">1</span>:<span class="number">5</span>) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥é¡§å®¢æº€è¶³åº¦"</span>,
    subtitle <span class="operator">=</span> <span class="string">"å€‹åˆ¥ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã¨ãƒœãƒƒã‚¯ã‚¹ãƒ—ãƒ­ãƒƒãƒˆã®çµ„ã¿åˆã‚ã›"</span>,
    x <span class="operator">=</span> <span class="string">"é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ"</span>,
    y <span class="operator">=</span> <span class="string">"æº€è¶³åº¦ã‚¹ã‚³ã‚¢"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>() <span class="operator">+</span>
  <span class="function">theme</span>(legend.position <span class="operator">=</span> <span class="string">"none"</span>)

<span class="comment"># 3. Voronoi Plotï¼ˆã‚¨ãƒªã‚¢åˆ†å‰²å¯è¦–åŒ–ï¼‰</span>
voronoi_data <span class="operator">&lt;-</span> advanced_data <span class="operator">%&gt;%</span>
  <span class="function">sample_n</span>(<span class="number">50</span>) <span class="operator">%&gt;%</span>
  <span class="function">select</span>(purchase_amount, satisfaction, customer_segment, customer_value)

voronoi_plot <span class="operator">&lt;-</span> voronoi_data <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> purchase_amount, y <span class="operator">=</span> satisfaction)) <span class="operator">+</span>
  <span class="function">geom_voronoi_tile</span>(<span class="function">aes</span>(fill <span class="operator">=</span> customer_value), alpha <span class="operator">=</span> <span class="number">0.7</span>) <span class="operator">+</span>
  <span class="function">geom_voronoi_segment</span>(color <span class="operator">=</span> <span class="string">"white"</span>, size <span class="operator">=</span> <span class="number">0.5</span>) <span class="operator">+</span>
  <span class="function">geom_point</span>(<span class="function">aes</span>(color <span class="operator">=</span> customer_segment), size <span class="operator">=</span> <span class="number">3</span>) <span class="operator">+</span>
  <span class="function">scale_fill_gradient2</span>(
    low <span class="operator">=</span> <span class="string">"#3b82f6"</span>,
    mid <span class="operator">=</span> <span class="string">"#f59e0b"</span>,
    high <span class="operator">=</span> <span class="string">"#ef4444"</span>,
    midpoint <span class="operator">=</span> <span class="function">median</span>(voronoi_data$customer_value),
    labels <span class="operator">=</span> <span class="function">label_currency</span>(prefix <span class="operator">=</span> <span class="string">"Â¥"</span>, suffix <span class="operator">=</span> <span class="string">"K"</span>, scale <span class="operator">=</span> <span class="number">0.001</span>)
  ) <span class="operator">+</span>
  <span class="function">scale_color_corporate</span>() <span class="operator">+</span>
  <span class="function">scale_x_continuous</span>(
    labels <span class="operator">=</span> <span class="function">label_currency</span>(prefix <span class="operator">=</span> <span class="string">"Â¥"</span>, suffix <span class="operator">=</span> <span class="string">"K"</span>, scale <span class="operator">=</span> <span class="number">0.001</span>)
  ) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"é¡§å®¢ä¾¡å€¤ãƒãƒƒãƒ—ï¼ˆãƒœãƒ­ãƒã‚¤å›³ï¼‰"</span>,
    subtitle <span class="operator">=</span> <span class="string">"è³¼å…¥é‡‘é¡ã¨æº€è¶³åº¦ã«ã‚ˆã‚‹é¡§å®¢ä¾¡å€¤ã®ç©ºé–“åˆ†å¸ƒ"</span>,
    x <span class="operator">=</span> <span class="string">"è³¼å…¥é‡‘é¡ï¼ˆåƒå††ï¼‰"</span>,
    y <span class="operator">=</span> <span class="string">"æº€è¶³åº¦ã‚¹ã‚³ã‚¢"</span>,
    fill <span class="operator">=</span> <span class="string">"é¡§å®¢ä¾¡å€¤"</span>,
    color <span class="operator">=</span> <span class="string">"ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>()

<span class="comment"># 4. çµ±è¨ˆå¤‰æ›ã®æ´»ç”¨</span>
stat_plot <span class="operator">&lt;-</span> advanced_data <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> purchase_amount, y <span class="operator">=</span> retention_months)) <span class="operator">+</span>
  <span class="function">geom_point</span>(alpha <span class="operator">=</span> <span class="number">0.3</span>, size <span class="operator">=</span> <span class="number">1</span>) <span class="operator">+</span>
  <span class="function">stat_smooth</span>(
    method <span class="operator">=</span> <span class="string">"loess"</span>,
    se <span class="operator">=</span> <span class="variable">TRUE</span>,
    color <span class="operator">=</span> brand_colors[<span class="string">"primary"</span>],
    fill <span class="operator">=</span> brand_colors[<span class="string">"secondary"</span>],
    alpha <span class="operator">=</span> <span class="number">0.3</span>
  ) <span class="operator">+</span>
  <span class="function">stat_ellipse</span>(
    level <span class="operator">=</span> <span class="number">0.95</span>,
    color <span class="operator">=</span> brand_colors[<span class="string">"warning"</span>],
    linetype <span class="operator">=</span> <span class="string">"dashed"</span>,
    size <span class="operator">=</span> <span class="number">1</span>
  ) <span class="operator">+</span>
  <span class="function">stat_density_2d</span>(
    color <span class="operator">=</span> brand_colors[<span class="string">"accent"</span>],
    alpha <span class="operator">=</span> <span class="number">0.6</span>
  ) <span class="operator">+</span>
  <span class="function">scale_x_continuous</span>(
    labels <span class="operator">=</span> <span class="function">label_currency</span>(prefix <span class="operator">=</span> <span class="string">"Â¥"</span>, suffix <span class="operator">=</span> <span class="string">"K"</span>, scale <span class="operator">=</span> <span class="number">0.001</span>)
  ) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"è³¼å…¥é‡‘é¡ã¨ç¶™ç¶šæœŸé–“ã®é–¢ä¿‚åˆ†æ"</span>,
    subtitle <span class="operator">=</span> <span class="string">"å›å¸°ç·šã€ä¿¡é ¼æ¥•å††ã€å¯†åº¦åˆ†å¸ƒã®é‡ã­åˆã‚ã›"</span>,
    x <span class="operator">=</span> <span class="string">"è³¼å…¥é‡‘é¡ï¼ˆåƒå††ï¼‰"</span>,
    y <span class="operator">=</span> <span class="string">"ç¶™ç¶šæœŸé–“ï¼ˆæœˆï¼‰"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>()

<span class="comment"># è¤‡æ•°ãƒ—ãƒ­ãƒƒãƒˆã®çµ„ã¿åˆã‚ã›</span>
combined_plot <span class="operator">&lt;-</span> (ridge_plot <span class="operator">+</span> beeswarm_plot) / (voronoi_plot <span class="operator">+</span> stat_plot) <span class="operator">+</span>
  <span class="function">plot_annotation</span>(
    title <span class="operator">=</span> <span class="string">"é«˜åº¦ãªå¯è¦–åŒ–æŠ€è¡“ã®æ´»ç”¨ä¾‹"</span>,
    subtitle <span class="operator">=</span> <span class="string">"è¤‡æ•°ã® geom ã¨çµ±è¨ˆå¤‰æ›ã«ã‚ˆã‚‹å¤šè§’çš„ãƒ‡ãƒ¼ã‚¿åˆ†æ"</span>,
    theme <span class="operator">=</span> <span class="function">theme</span>(
      plot.title <span class="operator">=</span> <span class="function">element_text</span>(
        size <span class="operator">=</span> <span class="number">16</span>,
        face <span class="operator">=</span> <span class="string">"bold"</span>,
        color <span class="operator">=</span> brand_colors[<span class="string">"primary"</span>]
      ),
      plot.subtitle <span class="operator">=</span> <span class="function">element_text</span>(
        size <span class="operator">=</span> <span class="number">12</span>,
        color <span class="operator">=</span> brand_colors[<span class="string">"neutral"</span>]
      )
    )
  )

<span class="function">print</span>(<span class="string">"é«˜åº¦ãªgeomã¨çµ±è¨ˆå¤‰æ›ãŒé©ç”¨ã•ã‚Œã¾ã—ãŸ"</span>)
</div>
            </div>

            <div class="output-container">
                <div class="output-header">é«˜åº¦ãªgeomæ´»ç”¨çµæœ</div>
                <div class="output-content">[1] "é«˜åº¦ãªgeomã¨çµ±è¨ˆå¤‰æ›ãŒé©ç”¨ã•ã‚Œã¾ã—ãŸ"

# ä½¿ç”¨ã•ã‚ŒãŸé«˜åº¦ãªgeom:
- geom_density_ridges: åˆ†å¸ƒã®é‡ãªã‚Šè¡¨ç¤º
- geom_quasirandom: ãƒ“ãƒ¼ã‚¹ãƒ¯ãƒ¼ãƒ ãƒ—ãƒ­ãƒƒãƒˆ
- geom_voronoi_tile/segment: ãƒœãƒ­ãƒã‚¤å›³
- stat_smooth: å¹³æ»‘åŒ–å›å¸°ç·š
- stat_ellipse: ä¿¡é ¼æ¥•å††
- stat_density_2d: 2æ¬¡å…ƒå¯†åº¦åˆ†å¸ƒ

# çµ„ã¿åˆã‚ã›åŠ¹æœ:
- å¤šæ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã®åŒ…æ‹¬çš„ç†è§£
- çµ±è¨ˆçš„é–¢ä¿‚æ€§ã®è¦–è¦šåŒ–
- ãƒ‡ãƒ¼ã‚¿åˆ†å¸ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç™ºè¦‹</div>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-title">ğŸŒŠ Ridge Plots</div>
                    <div class="feature-description">è¤‡æ•°ã‚«ãƒ†ã‚´ãƒªã®åˆ†å¸ƒã‚’é‡ã­ã¦è¡¨ç¤ºã€‚å¯†åº¦ã®é•ã„ã‚„åˆ†å¸ƒã®å½¢çŠ¶å¤‰åŒ–ã‚’ç›´æ„Ÿçš„ã«æ¯”è¼ƒã§ãã¾ã™ã€‚</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸ Beeswarm Plots</div>
                    <div class="feature-description">ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®é‡è¤‡ã‚’é¿ã‘ãªãŒã‚‰å€‹åˆ¥å€¤ã‚’è¡¨ç¤ºã€‚å¤–ã‚Œå€¤ã‚„åˆ†å¸ƒã®è©³ç´°ã‚’ç¢ºèªã§ãã¾ã™ã€‚</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸ”· Voronoi Diagrams</div>
                    <div class="feature-description">ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆå‘¨è¾ºã®å½±éŸ¿é ˜åŸŸã‚’å¯è¦–åŒ–ã€‚ç©ºé–“çš„ãªé–¢ä¿‚æ€§ã‚„ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹é€ ã‚’æŠŠæ¡ã§ãã¾ã™ã€‚</div>
                </div>
                <div class="feature-card">
                    <div class="feature-title">ğŸ“ˆ Statistical Layers</div>
                    <div class="feature-description">å›å¸°ç·šã€ä¿¡é ¼åŒºé–“ã€å¯†åº¦ç­‰é«˜ç·šãªã©ã®çµ±è¨ˆçš„è¦ç´ ã‚’é‡ã­åˆã‚ã›ã¦è¤‡åˆçš„ãªåˆ†æã‚’å®Ÿç¾ã€‚</div>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>ğŸ“Š è¤‡åˆã‚°ãƒ©ãƒ•ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h2>

            <h3>çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®æ§‹ç¯‰</h3>

            <div class="code-container">
                <div class="code-header">åŒ…æ‹¬çš„ãƒ“ã‚¸ãƒã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</div>
                <div class="code-content">
<span class="keyword">library</span>(<span class="string">gridExtra</span>)
<span class="keyword">library</span>(<span class="string">grid</span>)
<span class="keyword">library</span>(<span class="string">ggtext</span>)

<span class="comment"># ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”¨ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ</span>
<span class="function">set.seed</span>(<span class="number">2023</span>)
dashboard_data <span class="operator">&lt;-</span> <span class="function">list</span>(
  <span class="comment"># KPIæŒ‡æ¨™</span>
  kpi <span class="operator">=</span> <span class="function">tibble</span>(
    metric <span class="operator">=</span> <span class="function">c</span>(<span class="string">"ç·å£²ä¸Š"</span>, <span class="string">"æ–°è¦é¡§å®¢"</span>, <span class="string">"ãƒªãƒ”ãƒ¼ãƒˆç‡"</span>, <span class="string">"é¡§å®¢æº€è¶³åº¦"</span>),
    current <span class="operator">=</span> <span class="function">c</span>(<span class="number">12500000</span>, <span class="number">1250</span>, <span class="number">68.5</span>, <span class="number">4.2</span>),
    target <span class="operator">=</span> <span class="function">c</span>(<span class="number">12000000</span>, <span class="number">1200</span>, <span class="number">70.0</span>, <span class="number">4.5</span>),
    unit <span class="operator">=</span> <span class="function">c</span>(<span class="string">"Â¥"</span>, <span class="string">"äºº"</span>, <span class="string">"%"</span>, <span class="string">"ç‚¹"</span>)
  ),
  
  <span class="comment"># æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿</span>
  timeseries <span class="operator">=</span> <span class="function">tibble</span>(
    date <span class="operator">=</span> <span class="function">seq</span>(<span class="function">as.Date</span>(<span class="string">"2023-01-01"</span>), <span class="function">as.Date</span>(<span class="string">"2023-12-31"</span>), by <span class="operator">=</span> <span class="string">"week"</span>),
    sales <span class="operator">=</span> <span class="function">cumsum</span>(<span class="function">rnorm</span>(<span class="number">53</span>, <span class="number">240000</span>, <span class="number">50000</span>)),
    orders <span class="operator">=</span> <span class="function">round</span>(<span class="function">rnorm</span>(<span class="number">53</span>, <span class="number">120</span>, <span class="number">30</span>)),
    customers <span class="operator">=</span> <span class="function">round</span>(<span class="function">rnorm</span>(<span class="number">53</span>, <span class="number">80</span>, <span class="number">20</span>))
  ),
  
  <span class="comment"># åœ°åŸŸåˆ¥ãƒ‡ãƒ¼ã‚¿</span>
  regional <span class="operator">=</span> <span class="function">tibble</span>(
    region <span class="operator">=</span> <span class="function">c</span>(<span class="string">"åŒ—æµ·é“"</span>, <span class="string">"æ±åŒ—"</span>, <span class="string">"é–¢æ±"</span>, <span class="string">"ä¸­éƒ¨"</span>, <span class="string">"é–¢è¥¿"</span>, <span class="string">"ä¸­å›½"</span>, <span class="string">"å››å›½"</span>, <span class="string">"ä¹å·"</span>),
    sales <span class="operator">=</span> <span class="function">c</span>(<span class="number">1200</span>, <span class="number">980</span>, <span class="number">4500</span>, <span class="number">2100</span>, <span class="number">3200</span>, <span class="number">850</span>, <span class="number">420</span>, <span class="number">1100</span>),
    growth <span class="operator">=</span> <span class="function">c</span>(<span class="number">5.2</span>, <span class="number">-2.1</span>, <span class="number">8.7</span>, <span class="number">3.4</span>, <span class="number">6.8</span>, <span class="number">-0.5</span>, <span class="number">12.3</span>, <span class="number">4.1</span>)
  ),
  
  <span class="comment"># è£½å“ã‚«ãƒ†ã‚´ãƒª</span>
  category <span class="operator">=</span> <span class="function">tibble</span>(
    category <span class="operator">=</span> <span class="function">c</span>(<span class="string">"ã‚¨ãƒ¬ã‚¯ãƒˆãƒ­ãƒ‹ã‚¯ã‚¹"</span>, <span class="string">"ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³"</span>, <span class="string">"ãƒ›ãƒ¼ãƒ &ã‚¬ãƒ¼ãƒ‡ãƒ³"</span>, <span class="string">"ã‚¹ãƒãƒ¼ãƒ„"</span>, <span class="string">"æ›¸ç±"</span>),
    sales <span class="operator">=</span> <span class="function">c</span>(<span class="number">4200</span>, <span class="number">3100</span>, <span class="number">2800</span>, <span class="number">1900</span>, <span class="number">1500</span>),
    profit_margin <span class="operator">=</span> <span class="function">c</span>(<span class="number">18.5</span>, <span class="number">45.2</span>, <span class="number">32.1</span>, <span class="number">25.8</span>, <span class="number">12.3</span>)
  )
)

<span class="comment"># KPIæŒ‡æ¨™ã‚«ãƒ¼ãƒ‰</span>
create_kpi_card <span class="operator">&lt;-</span> <span class="keyword">function</span>(metric, current, target, unit) {
  achievement <span class="operator">&lt;-</span> current / target
  color <span class="operator">&lt;-</span> <span class="keyword">if</span> (achievement <span class="operator">&gt;=</span> <span class="number">1</span>) brand_colors[<span class="string">"success"</span>] <span class="keyword">else</span> brand_colors[<span class="string">"warning"</span>]
  
  <span class="function">ggplot</span>() <span class="operator">+</span>
    <span class="function">geom_rect</span>(<span class="function">aes</span>(xmin <span class="operator">=</span> <span class="number">0</span>, xmax <span class="operator">=</span> <span class="number">1</span>, ymin <span class="operator">=</span> <span class="number">0</span>, ymax <span class="operator">=</span> <span class="number">1</span>), 
              fill <span class="operator">=</span> <span class="string">"white"</span>, color <span class="operator">=</span> color, size <span class="operator">=</span> <span class="number">2</span>) <span class="operator">+</span>
    <span class="function">annotate</span>(<span class="string">"text"</span>, x <span class="operator">=</span> <span class="number">0.5</span>, y <span class="operator">=</span> <span class="number">0.8</span>, 
             label <span class="operator">=</span> metric, size <span class="operator">=</span> <span class="number">5</span>, fontface <span class="operator">=</span> <span class="string">"bold"</span>,
             color <span class="operator">=</span> brand_colors[<span class="string">"text"</span>]) <span class="operator">+</span>
    <span class="function">annotate</span>(<span class="string">"text"</span>, x <span class="operator">=</span> <span class="number">0.5</span>, y <span class="operator">=</span> <span class="number">0.5</span>,
             label <span class="operator">=</span> <span class="function">paste0</span>(<span class="function">format</span>(current, big.mark <span class="operator">=</span> <span class="string">","</span>), unit),
             size <span class="operator">=</span> <span class="number">8</span>, fontface <span class="operator">=</span> <span class="string">"bold"</span>, color <span class="operator">=</span> color) <span class="operator">+</span>
    <span class="function">annotate</span>(<span class="string">"text"</span>, x <span class="operator">=</span> <span class="number">0.5</span>, y <span class="operator">=</span> <span class="number">0.2</span>,
             label <span class="operator">=</span> <span class="function">paste0</span>(<span class="string">"ç›®æ¨™: "</span>, <span class="function">format</span>(target, big.mark <span class="operator">=</span> <span class="string">","</span>), unit,
                           <span class="string">" ("</span>, <span class="function">round</span>((achievement - <span class="number">1</span>) * <span class="number">100</span>, <span class="number">1</span>), <span class="string">"%)\"</span>),
             size <span class="operator">=</span> <span class="number">3</span>, color <span class="operator">=</span> brand_colors[<span class="string">"neutral"</span>]) <span class="operator">+</span>
    <span class="function">xlim</span>(<span class="number">0</span>, <span class="number">1</span>) <span class="operator">+</span> <span class="function">ylim</span>(<span class="number">0</span>, <span class="number">1</span>) <span class="operator">+</span>
    <span class="function">theme_void</span>() <span class="operator">+</span>
    <span class="function">theme</span>(
      plot.background <span class="operator">=</span> <span class="function">element_rect</span>(fill <span class="operator">=</span> brand_colors[<span class="string">"background"</span>], color <span class="operator">=</span> <span class="variable">NA</span>),
      plot.margin <span class="operator">=</span> <span class="function">margin</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>)
    )
}

<span class="comment"># KPI ã‚«ãƒ¼ãƒ‰ã®ç”Ÿæˆ</span>
kpi_cards <span class="operator">&lt;-</span> <span class="function">map2</span>(
  dashboard_data$kpi$metric,
  <span class="function">pmap</span>(<span class="function">list</span>(dashboard_data$kpi$current, dashboard_data$kpi$target, dashboard_data$kpi$unit), <span class="function">c</span>),
  ~ <span class="function">create_kpi_card</span>(.x, .y[[<span class="number">1</span>]], .y[[<span class="number">2</span>]], .y[[<span class="number">3</span>]])
)

<span class="comment"># ãƒ¡ã‚¤ãƒ³æ™‚ç³»åˆ—ãƒãƒ£ãƒ¼ãƒˆ</span>
main_timeseries <span class="operator">&lt;-</span> dashboard_data$timeseries <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> date, y <span class="operator">=</span> sales)) <span class="operator">+</span>
  <span class="function">geom_area</span>(fill <span class="operator">=</span> brand_colors[<span class="string">"secondary"</span>], alpha <span class="operator">=</span> <span class="number">0.3</span>) <span class="operator">+</span>
  <span class="function">geom_line</span>(color <span class="operator">=</span> brand_colors[<span class="string">"primary"</span>], size <span class="operator">=</span> <span class="number">1.2</span>) <span class="operator">+</span>
  <span class="function">geom_point</span>(color <span class="operator">=</span> brand_colors[<span class="string">"primary"</span>], size <span class="operator">=</span> <span class="number">0.8</span>) <span class="operator">+</span>
  <span class="function">scale_x_date</span>(date_labels <span class="operator">=</span> <span class="string">"%mæœˆ"</span>, date_breaks <span class="operator">=</span> <span class="string">"2 months"</span>) <span class="operator">+</span>
  <span class="function">scale_y_continuous</span>(
    labels <span class="operator">=</span> <span class="function">label_currency</span>(prefix <span class="operator">=</span> <span class="string">"Â¥"</span>, suffix <span class="operator">=</span> <span class="string">"M"</span>, scale <span class="operator">=</span> <span class="number">1e-6</span>)
  ) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"ç´¯ç©å£²ä¸Šæ¨ç§»"</span>,
    x <span class="operator">=</span> <span class="variable">NULL</span>,
    y <span class="operator">=</span> <span class="string">"å£²ä¸Šé«˜"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>(base_size <span class="operator">=</span> <span class="number">10</span>)

<span class="comment"># åœ°åŸŸåˆ¥å£²ä¸Š</span>
regional_chart <span class="operator">&lt;-</span> dashboard_data$regional <span class="operator">%&gt;%</span>
  <span class="function">arrange</span>(<span class="function">desc</span>(sales)) <span class="operator">%&gt;%</span>
  <span class="function">mutate</span>(region <span class="operator">=</span> <span class="function">factor</span>(region, levels <span class="operator">=</span> region)) <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> region, y <span class="operator">=</span> sales, fill <span class="operator">=</span> growth <span class="operator">&gt;</span> <span class="number">0</span>)) <span class="operator">+</span>
  <span class="function">geom_col</span>(width <span class="operator">=</span> <span class="number">0.7</span>) <span class="operator">+</span>
  <span class="function">geom_text</span>(<span class="function">aes</span>(label <span class="operator">=</span> <span class="function">paste0</span>(growth, <span class="string">"%"</span>)), 
            vjust <span class="operator">=</span> <span class="operator">-</span><span class="number">0.5</span>, size <span class="operator">=</span> <span class="number">3</span>, fontface <span class="operator">=</span> <span class="string">"bold"</span>) <span class="operator">+</span>
  <span class="function">scale_fill_manual</span>(values <span class="operator">=</span> <span class="function">c</span>(<span class="string">"FALSE"</span> <span class="operator">=</span> brand_colors[<span class="string">"warning"</span>], 
                                   <span class="string">"TRUE"</span> <span class="operator">=</span> brand_colors[<span class="string">"success"</span>])) <span class="operator">+</span>
  <span class="function">scale_y_continuous</span>(expand <span class="operator">=</span> <span class="function">expansion</span>(mult <span class="operator">=</span> <span class="function">c</span>(<span class="number">0</span>, <span class="number">0.1</span>))) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"åœ°åŸŸåˆ¥å£²ä¸Šã¨æˆé•·ç‡"</span>,
    x <span class="operator">=</span> <span class="variable">NULL</span>,
    y <span class="operator">=</span> <span class="string">"å£²ä¸Šï¼ˆç™¾ä¸‡å††ï¼‰"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>(base_size <span class="operator">=</span> <span class="number">10</span>) <span class="operator">+</span>
  <span class="function">theme</span>(
    legend.position <span class="operator">=</span> <span class="string">"none"</span>,
    axis.text.x <span class="operator">=</span> <span class="function">element_text</span>(angle <span class="operator">=</span> <span class="number">45</span>, hjust <span class="operator">=</span> <span class="number">1</span>)
  )

<span class="comment"># ã‚«ãƒ†ã‚´ãƒªåˆ¥åˆ©ç›Šç‡</span>
category_chart <span class="operator">&lt;-</span> dashboard_data$category <span class="operator">%&gt;%</span>
  <span class="function">ggplot</span>(<span class="function">aes</span>(x <span class="operator">=</span> sales, y <span class="operator">=</span> profit_margin, size <span class="operator">=</span> sales, fill <span class="operator">=</span> category)) <span class="operator">+</span>
  <span class="function">geom_point</span>(alpha <span class="operator">=</span> <span class="number">0.8</span>, shape <span class="operator">=</span> <span class="number">21</span>, color <span class="operator">=</span> <span class="string">"white"</span>, stroke <span class="operator">=</span> <span class="number">1</span>) <span class="operator">+</span>
  <span class="function">geom_text</span>(<span class="function">aes</span>(label <span class="operator">=</span> category), size <span class="operator">=</span> <span class="number">3</span>, 
            color <span class="operator">=</span> brand_colors[<span class="string">"text"</span>], fontface <span class="operator">=</span> <span class="string">"bold"</span>,
            nudge_y <span class="operator">=</span> <span class="number">2</span>) <span class="operator">+</span>
  <span class="function">scale_fill_corporate</span>() <span class="operator">+</span>
  <span class="function">scale_size_continuous</span>(range <span class="operator">=</span> <span class="function">c</span>(<span class="number">5</span>, <span class="number">15</span>), guide <span class="operator">=</span> <span class="string">"none"</span>) <span class="operator">+</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"ã‚«ãƒ†ã‚´ãƒªåˆ¥å£²ä¸Švsåˆ©ç›Šç‡"</span>,
    x <span class="operator">=</span> <span class="string">"å£²ä¸Šï¼ˆç™¾ä¸‡å††ï¼‰"</span>,
    y <span class="operator">=</span> <span class="string">"åˆ©ç›Šç‡ï¼ˆ%ï¼‰"</span>
  ) <span class="operator">+</span>
  <span class="function">theme_corporate</span>(base_size <span class="operator">=</span> <span class="number">10</span>) <span class="operator">+</span>
  <span class="function">theme</span>(legend.position <span class="operator">=</span> <span class="string">"none"</span>)

<span class="function">print</span>(<span class="string">"ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒä½œæˆã•ã‚Œã¾ã—ãŸ"</span>)
</div>
            </div>

            <div class="output-container">
                <div class="output-header">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ§‹ç¯‰çµæœ</div>
                <div class="output-content">[1] "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒä½œæˆã•ã‚Œã¾ã—ãŸ"

# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®æ§‹æˆè¦ç´ :
- KPIæŒ‡æ¨™ã‚«ãƒ¼ãƒ‰: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¥­ç¸¾æŒ‡æ¨™
- æ™‚ç³»åˆ—ãƒãƒ£ãƒ¼ãƒˆ: å£²ä¸Šæ¨ç§»ã®å¯è¦–åŒ–
- åœ°åŸŸåˆ¥åˆ†æ: æˆé•·ç‡ä»˜ãå£²ä¸Šæ¯”è¼ƒ
- ã‚«ãƒ†ã‚´ãƒªåˆ†æ: å£²ä¸Šã¨åˆ©ç›Šç‡ã®ç›¸é–¢

# ä¼æ¥­ãƒ¬ãƒ™ãƒ«ã®ç‰¹å¾´:
- çµ±ä¸€ã•ã‚ŒãŸãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ 
- ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªæ„æ€æ±ºå®šæ”¯æ´</div>
            </div>

            <div class="chart-showcase">
                <div class="chart-title">çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¾‹</div>
                <div class="chart-example">
                    <svg class="svg-chart" width="600" height="400" viewBox="0 0 600 400">
                        <!-- èƒŒæ™¯ -->
                        <rect width="600" height="400" fill="#f8fafc"/>
                        
                        <!-- KPI ã‚«ãƒ¼ãƒ‰ç¾¤ -->
                        <g transform="translate(20, 20)">
                            <!-- KPI Card 1 -->
                            <rect x="0" y="0" width="130" height="80" fill="white" stroke="#10b981" stroke-width="2" rx="5"/>
                            <text x="65" y="25" text-anchor="middle" fill="#1f2937" font-size="12" font-weight="bold">ç·å£²ä¸Š</text>
                            <text x="65" y="45" text-anchor="middle" fill="#10b981" font-size="16" font-weight="bold">Â¥12.5M</text>
                            <text x="65" y="65" text-anchor="middle" fill="#6b7280" font-size="10">ç›®æ¨™: Â¥12.0M (+4.2%)</text>
                            
                            <!-- KPI Card 2 -->
                            <rect x="140" y="0" width="130" height="80" fill="white" stroke="#10b981" stroke-width="2" rx="5"/>
                            <text x="205" y="25" text-anchor="middle" fill="#1f2937" font-size="12" font-weight="bold">æ–°è¦é¡§å®¢</text>
                            <text x="205" y="45" text-anchor="middle" fill="#10b981" font-size="16" font-weight="bold">1,250äºº</text>
                            <text x="205" y="65" text-anchor="middle" fill="#6b7280" font-size="10">ç›®æ¨™: 1,200äºº (+4.2%)</text>
                            
                            <!-- KPI Card 3 -->
                            <rect x="280" y="0" width="130" height="80" fill="white" stroke="#ef4444" stroke-width="2" rx="5"/>
                            <text x="345" y="25" text-anchor="middle" fill="#1f2937" font-size="12" font-weight="bold">ãƒªãƒ”ãƒ¼ãƒˆç‡</text>
                            <text x="345" y="45" text-anchor="middle" fill="#ef4444" font-size="16" font-weight="bold">68.5%</text>
                            <text x="345" y="65" text-anchor="middle" fill="#6b7280" font-size="10">ç›®æ¨™: 70.0% (-2.1%)</text>
                            
                            <!-- KPI Card 4 -->
                            <rect x="420" y="0" width="130" height="80" fill="white" stroke="#ef4444" stroke-width="2" rx="5"/>
                            <text x="485" y="25" text-anchor="middle" fill="#1f2937" font-size="12" font-weight="bold">é¡§å®¢æº€è¶³åº¦</text>
                            <text x="485" y="45" text-anchor="middle" fill="#ef4444" font-size="16" font-weight="bold">4.2ç‚¹</text>
                            <text x="485" y="65" text-anchor="middle" fill="#6b7280" font-size="10">ç›®æ¨™: 4.5ç‚¹ (-6.7%)</text>
                        </g>
                        
                        <!-- ãƒ¡ã‚¤ãƒ³ãƒãƒ£ãƒ¼ãƒˆ -->
                        <g transform="translate(20, 120)">
                            <!-- æ™‚ç³»åˆ—ãƒãƒ£ãƒ¼ãƒˆ -->
                            <rect x="0" y="0" width="360" height="180" fill="white" stroke="#e5e7eb" rx="5"/>
                            <text x="180" y="20" text-anchor="middle" fill="#1e3a8a" font-size="14" font-weight="bold">ç´¯ç©å£²ä¸Šæ¨ç§»</text>
                            
                            <!-- æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ• -->
                            <polyline fill="none" stroke="#1e3a8a" stroke-width="2" 
                                points="30,150 60,140 90,135 120,130 150,125 180,120 210,115 240,110 270,105 300,100 330,95"/>
                            <!-- ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ -->
                            <circle cx="30" cy="150" r="3" fill="#1e3a8a"/>
                            <circle cx="90" cy="135" r="3" fill="#1e3a8a"/>
                            <circle cx="150" cy="125" r="3" fill="#1e3a8a"/>
                            <circle cx="210" cy="115" r="3" fill="#1e3a8a"/>
                            <circle cx="270" cy="105" r="3" fill="#1e3a8a"/>
                            <circle cx="330" cy="95" r="3" fill="#1e3a8a"/>
                        </g>
                        
                        <!-- åœ°åŸŸåˆ¥ãƒãƒ£ãƒ¼ãƒˆ -->
                        <g transform="translate(400, 120)">
                            <rect x="0" y="0" width="180" height="120" fill="white" stroke="#e5e7eb" rx="5"/>
                            <text x="90" y="20" text-anchor="middle" fill="#1e3a8a" font-size="12" font-weight="bold">åœ°åŸŸåˆ¥å£²ä¸Š</text>
                            
                            <!-- æ£’ã‚°ãƒ©ãƒ• -->
                            <rect x="20" y="80" width="15" height="30" fill="#10b981"/>
                            <rect x="40" y="70" width="15" height="40" fill="#10b981"/>
                            <rect x="60" y="40" width="15" height="70" fill="#10b981"/>
                            <rect x="80" y="60" width="15" height="50" fill="#10b981"/>
                            <rect x="100" y="50" width="15" height="60" fill="#10b981"/>
                            <rect x="120" y="85" width="15" height="25" fill="#ef4444"/>
                            <rect x="140" y="75" width="15" height="35" fill="#10b981"/>
                            <rect x="160" y="70" width="15" height="40" fill="#10b981"/>
                        </g>
                        
                        <!-- ã‚«ãƒ†ã‚´ãƒªåˆ†æ -->
                        <g transform="translate(400, 260)">
                            <rect x="0" y="0" width="180" height="120" fill="white" stroke="#e5e7eb" rx="5"/>
                            <text x="90" y="20" text-anchor="middle" fill="#1e3a8a" font-size="12" font-weight="bold">ã‚«ãƒ†ã‚´ãƒªåˆ†æ</text>
                            
                            <!-- ãƒãƒ–ãƒ«ãƒãƒ£ãƒ¼ãƒˆ -->
                            <circle cx="40" cy="60" r="12" fill="#1e3a8a" opacity="0.7"/>
                            <circle cx="80" cy="50" r="18" fill="#3b82f6" opacity="0.7"/>
                            <circle cx="120" cy="70" r="10" fill="#f59e0b" opacity="0.7"/>
                            <circle cx="60" cy="80" r="14" fill="#10b981" opacity="0.7"/>
                            <circle cx="140" cy="90" r="8" fill="#ef4444" opacity="0.7"/>
                        </g>
                        
                        <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
                        <text x="300" y="15" text-anchor="middle" fill="#1e3a8a" font-size="18" font-weight="bold">Business Intelligence Dashboard</text>
                    </svg>
                </div>
            </div>
        </section>

        <div class="data-table">
            <table>
                <thead>
                    <tr>
                        <th>é«˜åº¦ãªggplot2æ©Ÿèƒ½</th>
                        <th>ç”¨é€”</th>
                        <th>å®Ÿè£…ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</th>
                        <th>é©ç”¨å ´é¢</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒ</td>
                        <td>ãƒ–ãƒ©ãƒ³ãƒ‰çµ±ä¸€</td>
                        <td>ggplot2</td>
                        <td>ä¼æ¥­ãƒ¬ãƒãƒ¼ãƒˆã€ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</td>
                    </tr>
                    <tr>
                        <td>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</td>
                        <td>æ™‚ç³»åˆ—å¤‰åŒ–è¡¨ç¾</td>
                        <td>gganimate</td>
                        <td>ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¦ã‚§ãƒ–</td>
                    </tr>
                    <tr>
                        <td>é«˜åº¦ãªgeom</td>
                        <td>è¤‡é›‘ãªåˆ†å¸ƒè¡¨ç¾</td>
                        <td>ggridges, ggforce</td>
                        <td>çµ±è¨ˆåˆ†æã€ç ”ç©¶ç™ºè¡¨</td>
                    </tr>
                    <tr>
                        <td>è¤‡åˆã‚°ãƒ©ãƒ•</td>
                        <td>å¤šè§’çš„åˆ†æ</td>
                        <td>patchwork</td>
                        <td>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ãƒ¬ãƒãƒ¼ãƒˆ</td>
                    </tr>
                    <tr>
                        <td>ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–</td>
                        <td>å‹•çš„æ¢ç´¢</td>
                        <td>plotly, shiny</td>
                        <td>ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã€åˆ†æãƒ„ãƒ¼ãƒ«</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="key-points">
            <h4>ç¬¬13ç« ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h4>
            <ul>
                <li><strong>ä¼æ¥­ãƒ–ãƒ©ãƒ³ãƒ‰çµ±åˆ</strong>ï¼šã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã«ã‚ˆã‚‹è¦–è¦šçš„ä¸€è²«æ€§ã®ç¢ºä¿</li>
                <li><strong>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ</strong>ï¼šæ™‚ç³»åˆ—å¤‰åŒ–ã¨ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã®å‹•çš„è¡¨ç¾</li>
                <li><strong>é«˜åº¦ãªgeomæ´»ç”¨</strong>ï¼šè¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿åˆ†å¸ƒã®å¤šè§’çš„å¯è¦–åŒ–</li>
                <li><strong>çµ±è¨ˆãƒ¬ã‚¤ãƒ¤ãƒ¼</strong>ï¼šå›å¸°ç·šã€å¯†åº¦åˆ†å¸ƒã€ä¿¡é ¼åŒºé–“ã®é‡ã­åˆã‚ã›</li>
                <li><strong>è¤‡åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</strong>ï¼šè¤‡æ•°ãƒãƒ£ãƒ¼ãƒˆã®çµ±åˆã«ã‚ˆã‚‹åŒ…æ‹¬çš„åˆ†æ</li>
                <li><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–</strong>ï¼šå¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</li>
            </ul>
        </div>

        <div class="tip-box">
            <h4>å®Ÿè·µçš„ã‚¢ãƒ‰ãƒã‚¤ã‚¹</h4>
            <p>é«˜åº¦ãªggplot2æŠ€è¡“ã¯ã€ãƒ‡ãƒ¼ã‚¿ã®æ´å¯Ÿã‚’æ·±ã‚ã‚‹ã ã‘ã§ãªãã€ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ã¸ã®åŠ¹æœçš„ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã¨ãªã‚Šã¾ã™ã€‚ä¼æ¥­ç’°å¢ƒã§ã¯ã€ãƒ–ãƒ©ãƒ³ãƒ‰ä¸€è²«æ€§ã¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦ã§ã™ã€‚ã¾ãŸã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ ã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€é©åˆ‡ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ç›´æ„Ÿçš„ã«ä¼ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
        </div>

        <nav class="chapter-nav">
            <a href="chapter12-time-series.html" class="nav-button">â† ç¬¬12ç« </a>
            <a href="chapter14-interactive-visualization.html" class="nav-button">ç¬¬14ç«  â†’</a>
        </nav>
    </div>
</body>
</html>